<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>JframeView.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">calendar</a> &gt; <a href="index.source.html" class="el_package">calendar.view</a> &gt; <span class="el_source">JframeView.java</span></div><h1>JframeView.java</h1><pre class="source lang-java linenums">package calendar.view;

import calendar.controller.GuiControllerFeatures;
import calendar.model.modelinterfaces.Event;
import calendar.model.modelutility.Location;
import calendar.model.modelutility.Status;
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.GridLayout;
import java.awt.Insets;
import java.time.LocalDate;
import java.time.YearMonth;
import java.time.ZoneId;
import java.time.format.DateTimeFormatter;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import javax.swing.BorderFactory;
import javax.swing.Box;
import javax.swing.BoxLayout;
import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenuItem;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JPopupMenu;
import javax.swing.JRadioButton;
import javax.swing.JScrollPane;
import javax.swing.JSeparator;
import javax.swing.JSplitPane;
import javax.swing.JTextField;
import javax.swing.SwingConstants;

/**
 * this is view impl.
 */
public class JframeView extends JFrame implements ViewInterface {
  private GuiControllerFeatures guiControllerFeatures;
  private JPanel toolbarPanel;
  private JButton navigateCalendarsButton;
  private JLabel monthYearLabel;
  private JTextField searchField;
  private JPanel leftPanel;
  private JPanel centerPanel;
  private JPanel calendarPanel;
  private JPanel daysHeaderPanel;
  private JPanel daysGridPanel;
<span class="nc" id="L57">  private JButton[][] dayButtons = new JButton[6][7];</span>
<span class="nc" id="L58">  private String[] daysOfWeek = {&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;};</span>
  private JPanel mainPanel;
  private LocalDate currentDate;
  private YearMonth currentYearMonth;
  private JPanel leftContentPanel;
  private JButton createCalendarBtn;
  private JButton createEventBtn;
  private JButton createEventDialogBtn;
  private JButton createCalendarDialogBoxBtn;
  private JDialog dialog;
  private JTextField calendarNameField;
  private JTextField timeZoneField;
  private JButton calButton;
  private JCheckBox recurringCheckBox;
  private JPanel recurringPanel;
  private JLabel currentCalendarLabel;
  JDialog editEventDialog;
  JDialog createEventDialog;
  private JTextField eventNameField;
  private JLabel startDateField;
  private JTextField startDateTextField;
  private JTextField statusField;
  private JTextField endDateField;
  private JTextField startTimeField;
  private JTextField endTimeField;
  private JTextField locationField;
  private JTextField descriptionField;
  private JTextField repeatsField;
  private JTextField untilDateField;
  private JTextField timesField;
  private JRadioButton untilRadio;
  private JRadioButton timesRadio;
  private JPanel buttonPanel;
  private JScrollPane scrollPane;
  private JButton eventButton;
  private JButton editEventBtn;
  private JLabel propertyLabel;
<span class="nc" id="L95">  private JButton selectedDayButton = null;</span>

  /**
   * view constructor.
   */
  public JframeView() {
<span class="nc" id="L101">    super(&quot;Calendar View&quot;);</span>
<span class="nc" id="L102">    setSize(1200, 700);</span>
<span class="nc" id="L103">    setLocation(100, 100);</span>
<span class="nc" id="L104">    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);</span>


<span class="nc" id="L107">    currentDate = LocalDate.now();</span>
<span class="nc" id="L108">    currentYearMonth = YearMonth.from(currentDate);</span>

<span class="nc" id="L110">    this.setLayout(new BorderLayout());</span>

<span class="nc" id="L112">    createToolbar();</span>

<span class="nc" id="L114">    mainPanel = new JPanel(new BorderLayout());</span>

<span class="nc" id="L116">    createLeftPanel();</span>

<span class="nc" id="L118">    createCenterPanel();</span>

<span class="nc" id="L120">    JSplitPane splitPane = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, leftPanel, centerPanel);</span>
<span class="nc" id="L121">    splitPane.setDividerLocation(250);</span>
<span class="nc" id="L122">    splitPane.setResizeWeight(0.0);</span>
<span class="nc" id="L123">    mainPanel.add(splitPane, BorderLayout.CENTER);</span>

<span class="nc" id="L125">    this.add(toolbarPanel, BorderLayout.NORTH);</span>
<span class="nc" id="L126">    this.add(mainPanel, BorderLayout.CENTER);</span>

<span class="nc" id="L128">    populateCalendar();</span>

<span class="nc" id="L130">    setVisible(true);</span>
<span class="nc" id="L131">  }</span>

  private void createToolbar() {
<span class="nc" id="L134">    toolbarPanel = new JPanel(new BorderLayout());</span>
<span class="nc" id="L135">    toolbarPanel.setPreferredSize(new Dimension(0, 50));</span>
<span class="nc" id="L136">    toolbarPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));</span>
<span class="nc" id="L137">    toolbarPanel.setBackground(new Color(245, 245, 245));</span>

<span class="nc" id="L139">    navigateCalendarsButton = new JButton(&quot;Navigate calendars&quot;);</span>
<span class="nc" id="L140">    navigateCalendarsButton.setText(&quot;Navigate calendars&quot;);</span>
<span class="nc" id="L141">    navigateCalendarsButton.setPreferredSize(new Dimension(180, 30));</span>
<span class="nc" id="L142">    navigateCalendarsButton.setFocusPainted(false);</span>

<span class="nc" id="L144">    currentCalendarLabel = new JLabel(&quot;Current: &quot;);</span>
<span class="nc" id="L145">    currentCalendarLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L146">    currentCalendarLabel.setForeground(new Color(70, 70, 70));</span>
<span class="nc" id="L147">    currentCalendarLabel.setBorder(BorderFactory.createEmptyBorder(0, 10, 0, 0));</span>

<span class="nc" id="L149">    JPanel centerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER, 10, 0));</span>
<span class="nc" id="L150">    centerPanel.setBackground(new Color(245, 245, 245));</span>

<span class="nc" id="L152">    JButton prevButton = new JButton(&quot;Previous month&quot;);</span>
<span class="nc" id="L153">    prevButton.setText(&quot;Previous month&quot;);</span>
<span class="nc" id="L154">    prevButton.setPreferredSize(new Dimension(150, 30));</span>
<span class="nc" id="L155">    prevButton.setFocusPainted(false);</span>
<span class="nc" id="L156">    prevButton.setToolTipText(&quot;Previous Month&quot;);</span>
<span class="nc" id="L157">    prevButton.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L158">    prevButton.addActionListener(e -&gt; previousMonth());</span>

<span class="nc" id="L160">    JButton nextButton = new JButton(&quot;Next month&quot;);</span>
<span class="nc" id="L161">    nextButton.setText(&quot;Next month&quot;);</span>
<span class="nc" id="L162">    nextButton.setPreferredSize(new Dimension(150, 30));</span>
<span class="nc" id="L163">    nextButton.setFocusPainted(false);</span>
<span class="nc" id="L164">    nextButton.setToolTipText(&quot;Next Month&quot;);</span>
<span class="nc" id="L165">    nextButton.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L166">    nextButton.addActionListener(e -&gt; nextMonth());</span>

<span class="nc" id="L168">    monthYearLabel = new JLabel(&quot;Current month&quot;, SwingConstants.CENTER);</span>
<span class="nc" id="L169">    monthYearLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));</span>
<span class="nc" id="L170">    monthYearLabel.setPreferredSize(new Dimension(200, 30));</span>

<span class="nc" id="L172">    centerPanel.add(prevButton);</span>
<span class="nc" id="L173">    centerPanel.add(monthYearLabel);</span>
<span class="nc" id="L174">    centerPanel.add(nextButton);</span>
<span class="nc" id="L175">    centerPanel.add(Box.createHorizontalStrut(20));</span>

<span class="nc" id="L177">    searchField = new JTextField();</span>
<span class="nc" id="L178">    searchField.setPreferredSize(new Dimension(200, 30));</span>
<span class="nc" id="L179">    searchField.setToolTipText(&quot;Search events...&quot;);</span>

<span class="nc" id="L181">    JPanel leftToolPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));</span>
<span class="nc" id="L182">    leftToolPanel.setBackground(new Color(245, 245, 245));</span>
<span class="nc" id="L183">    leftToolPanel.add(navigateCalendarsButton);</span>
<span class="nc" id="L184">    leftToolPanel.add(currentCalendarLabel);</span>

<span class="nc" id="L186">    JPanel rightToolPanel = new JPanel(new FlowLayout(FlowLayout.RIGHT));</span>
<span class="nc" id="L187">    rightToolPanel.setBackground(new Color(245, 245, 245));</span>
<span class="nc" id="L188">    rightToolPanel.add(new JLabel(&quot;Search (by event name): &quot;));</span>
<span class="nc" id="L189">    rightToolPanel.add(searchField);</span>

<span class="nc" id="L191">    toolbarPanel.add(leftToolPanel, BorderLayout.WEST);</span>
<span class="nc" id="L192">    toolbarPanel.add(centerPanel, BorderLayout.CENTER);</span>
<span class="nc" id="L193">    toolbarPanel.add(rightToolPanel, BorderLayout.EAST);</span>
<span class="nc" id="L194">  }</span>

  private void createLeftPanel() {
<span class="nc" id="L197">    leftPanel = new JPanel();</span>
<span class="nc" id="L198">    leftPanel.setBackground(new Color(250, 250, 250));</span>
<span class="nc" id="L199">    leftPanel.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L200">        BorderFactory.createMatteBorder(0, 0, 0, 1, Color.LIGHT_GRAY),</span>
<span class="nc" id="L201">        BorderFactory.createEmptyBorder(10, 10, 10, 10)</span>
    ));

<span class="nc" id="L204">    leftPanel.setLayout(new BorderLayout());</span>

<span class="nc" id="L206">    leftContentPanel = new JPanel();</span>
<span class="nc" id="L207">    leftContentPanel.setLayout(new BoxLayout(leftContentPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L208">    leftContentPanel.setBackground(new Color(250, 250, 250));</span>

<span class="nc" id="L210">    JScrollPane scrollPane = new JScrollPane(leftContentPanel);</span>
<span class="nc" id="L211">    scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);</span>
<span class="nc" id="L212">    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);</span>
<span class="nc" id="L213">    scrollPane.setBorder(null);</span>
<span class="nc" id="L214">    scrollPane.getViewport().setBackground(new Color(250, 250, 250));</span>

<span class="nc" id="L216">    leftPanel.add(scrollPane, BorderLayout.CENTER);</span>

<span class="nc" id="L218">    createCalendarBtn = new JButton(&quot;+ Create New Calendar&quot;);</span>
<span class="nc" id="L219">    createCalendarDialogBoxBtn = new JButton(&quot;Create&quot;);</span>
<span class="nc" id="L220">  }</span>

  private void createCenterPanel() {
<span class="nc" id="L223">    centerPanel = new JPanel(new BorderLayout());</span>
<span class="nc" id="L224">    centerPanel.setBackground(Color.WHITE);</span>

<span class="nc" id="L226">    calendarPanel = new JPanel(new BorderLayout());</span>
<span class="nc" id="L227">    calendarPanel.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));</span>

<span class="nc" id="L229">    createDaysHeader();</span>

<span class="nc" id="L231">    createDaysGrid();</span>

<span class="nc" id="L233">    calendarPanel.add(daysHeaderPanel, BorderLayout.NORTH);</span>
<span class="nc" id="L234">    calendarPanel.add(daysGridPanel, BorderLayout.CENTER);</span>

<span class="nc" id="L236">    centerPanel.add(calendarPanel, BorderLayout.CENTER);</span>
<span class="nc" id="L237">  }</span>

  private void createDaysHeader() {
<span class="nc" id="L240">    daysHeaderPanel = new JPanel(new GridLayout(1, 7));</span>
<span class="nc" id="L241">    daysHeaderPanel.setPreferredSize(new Dimension(0, 30));</span>
<span class="nc" id="L242">    daysHeaderPanel.setBackground(new Color(240, 240, 240));</span>

<span class="nc bnc" id="L244" title="All 2 branches missed.">    for (String day : daysOfWeek) {</span>
<span class="nc" id="L245">      JLabel dayLabel = new JLabel(day, SwingConstants.CENTER);</span>
<span class="nc" id="L246">      dayLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L247">      dayLabel.setBorder(BorderFactory.createMatteBorder(1, 1, 1, 1, Color.LIGHT_GRAY));</span>
<span class="nc" id="L248">      daysHeaderPanel.add(dayLabel);</span>
    }
<span class="nc" id="L250">  }</span>

  private void createDaysGrid() {
<span class="nc" id="L253">    daysGridPanel = new JPanel(new GridLayout(6, 7, 1, 1)); // 6 weeks, 7 days, with gaps</span>
<span class="nc" id="L254">    daysGridPanel.setBackground(Color.LIGHT_GRAY); // Gap color</span>

<span class="nc bnc" id="L256" title="All 2 branches missed.">    for (int week = 0; week &lt; 6; week++) {</span>
<span class="nc bnc" id="L257" title="All 2 branches missed.">      for (int day = 0; day &lt; 7; day++) {</span>
<span class="nc" id="L258">        JButton dayButton = new JButton();</span>
<span class="nc" id="L259">        dayButton.setBackground(Color.WHITE);</span>
<span class="nc" id="L260">        dayButton.setFocusPainted(false);</span>
<span class="nc" id="L261">        dayButton.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 14));</span>
<span class="nc" id="L262">        dayButton.setVerticalAlignment(SwingConstants.TOP);</span>
<span class="nc" id="L263">        dayButton.setHorizontalAlignment(SwingConstants.LEFT);</span>
<span class="nc" id="L264">        dayButton.setMargin(new Insets(5, 5, 5, 5));</span>


<span class="nc" id="L267">        dayButtons[week][day] = dayButton;</span>
<span class="nc" id="L268">        daysGridPanel.add(dayButton);</span>
      }
    }
<span class="nc" id="L271">  }</span>

  private void populateCalendar() {
<span class="nc" id="L274">    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM yyyy&quot;);</span>
<span class="nc" id="L275">    monthYearLabel.setText(currentYearMonth.format(formatter));</span>

<span class="nc bnc" id="L277" title="All 2 branches missed.">    for (int week = 0; week &lt; 6; week++) {</span>
<span class="nc bnc" id="L278" title="All 2 branches missed.">      for (int day = 0; day &lt; 7; day++) {</span>
<span class="nc" id="L279">        dayButtons[week][day].setText(&quot;&quot;);</span>
<span class="nc" id="L280">        dayButtons[week][day].setEnabled(false);</span>
<span class="nc" id="L281">        dayButtons[week][day].setBackground(Color.WHITE);</span>
      }
    }

<span class="nc" id="L285">    LocalDate firstOfMonth = currentYearMonth.atDay(1);</span>
<span class="nc" id="L286">    int firstDayOfWeek = firstOfMonth.getDayOfWeek().getValue() % 7; // Convert to Sunday=0</span>

<span class="nc" id="L288">    int daysInMonth = currentYearMonth.lengthOfMonth();</span>

<span class="nc" id="L290">    int currentDay = 1;</span>
<span class="nc" id="L291">    boolean started = false;</span>

<span class="nc bnc" id="L293" title="All 2 branches missed.">    for (int week = 0; week &lt; 6; week++) {</span>
<span class="nc bnc" id="L294" title="All 2 branches missed.">      for (int day = 0; day &lt; 7; day++) {</span>
<span class="nc bnc" id="L295" title="All 4 branches missed.">        if (!started &amp;&amp; day == firstDayOfWeek) {</span>
<span class="nc" id="L296">          started = true;</span>
        }

<span class="nc bnc" id="L299" title="All 4 branches missed.">        if (started &amp;&amp; currentDay &lt;= daysInMonth) {</span>
<span class="nc" id="L300">          dayButtons[week][day].setText(String.valueOf(currentDay));</span>
<span class="nc" id="L301">          dayButtons[week][day].setEnabled(true);</span>

<span class="nc bnc" id="L303" title="All 2 branches missed.">          if (currentDate.getYear() == currentYearMonth.getYear()</span>
<span class="nc bnc" id="L304" title="All 2 branches missed.">              &amp;&amp; currentDate.getMonthValue() == currentYearMonth.getMonthValue()</span>
<span class="nc bnc" id="L305" title="All 2 branches missed.">              &amp;&amp; currentDate.getDayOfMonth() == currentDay) {</span>
<span class="nc" id="L306">            dayButtons[week][day].setBackground(new Color(200, 220, 255));</span>
<span class="nc" id="L307">            dayButtons[week][day].setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));</span>
<span class="nc" id="L308">            selectedDayButton = dayButtons[week][day];</span>
          }

<span class="nc" id="L311">          currentDay++;</span>
        }
      }
    }
<span class="nc" id="L315">  }</span>

  private void handleDialogBoxEditEvent(JTextField newValueField,
                                        JComboBox&lt;String&gt; propertyComboBox) {
<span class="nc" id="L319">    editEventBtn.addActionListener(e -&gt; {</span>
<span class="nc" id="L320">      String selectedProperty = (String) propertyComboBox.getSelectedItem();</span>
<span class="nc" id="L321">      String newValue = newValueField.getText().trim();</span>

<span class="nc bnc" id="L323" title="All 2 branches missed.">      if (newValue.isEmpty()) {</span>
<span class="nc" id="L324">        JOptionPane.showMessageDialog(editEventDialog,</span>
            &quot;Please enter a new value&quot;,
            &quot;Invalid Input&quot;,
            JOptionPane.WARNING_MESSAGE);
<span class="nc" id="L328">        return;</span>
      }

<span class="nc" id="L331">      Map&lt;String, Object&gt; eventData = eventParameterConstructor(selectedProperty, newValue);</span>

<span class="nc" id="L333">      editEventDialog.dispose();</span>

<span class="nc bnc" id="L335" title="All 2 branches missed.">      if (guiControllerFeatures != null) {</span>
<span class="nc" id="L336">        guiControllerFeatures.handleEditEventClicked(eventData);</span>
      }
<span class="nc" id="L338">    });</span>

<span class="nc" id="L340">  }</span>

  private void handleDialogBoxCreateEvent() {
<span class="nc" id="L343">    createEventDialogBtn.addActionListener(e -&gt; {</span>









<span class="nc" id="L353">      boolean isRecurring = recurringCheckBox.isSelected();</span>
<span class="nc" id="L354">      String repeatsPattern = &quot;&quot;;</span>
<span class="nc" id="L355">      String untilDate = &quot;&quot;;</span>
<span class="nc" id="L356">      int numberOfTimes = 0;</span>

<span class="nc bnc" id="L358" title="All 2 branches missed.">      if (isRecurring) {</span>
<span class="nc" id="L359">        repeatsPattern = repeatsField.getText().trim();</span>

<span class="nc bnc" id="L361" title="All 2 branches missed.">        if (untilRadio.isSelected()) {</span>
<span class="nc" id="L362">          untilDate = untilDateField.getText().trim();</span>
<span class="nc bnc" id="L363" title="All 2 branches missed.">        } else if (timesRadio.isSelected()) {</span>
<span class="nc" id="L364">          String timesText = timesField.getText().trim();</span>
          try {
<span class="nc" id="L366">            numberOfTimes = Integer.parseInt(timesText);</span>
<span class="nc" id="L367">          } catch (NumberFormatException ex) {</span>
<span class="nc" id="L368">            numberOfTimes = 0;</span>
<span class="nc" id="L369">          }</span>
        }
      }


<span class="nc" id="L374">      String eventName = eventNameField.getText().trim();</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">      if (eventName.isEmpty()) {</span>
<span class="nc" id="L376">        JOptionPane.showMessageDialog(createEventDialog,</span>
            &quot;Please enter an event name&quot;,
            &quot;Invalid Input&quot;,
            JOptionPane.WARNING_MESSAGE);
<span class="nc" id="L380">        return;</span>
      }

<span class="nc" id="L383">      Map&lt;String, Object&gt; eventData = new HashMap&lt;&gt;();</span>
<span class="nc" id="L384">      eventData.put(&quot;name&quot;, eventName);</span>
<span class="nc" id="L385">      String startDate = startDateField.getText();</span>
<span class="nc" id="L386">      eventData.put(&quot;startDate&quot;, startDate);</span>
<span class="nc" id="L387">      String endDate = endDateField.getText().trim();</span>
<span class="nc" id="L388">      eventData.put(&quot;endDate&quot;, endDate);</span>
<span class="nc" id="L389">      String startTime = startTimeField.getText().trim();</span>
<span class="nc" id="L390">      eventData.put(&quot;startTime&quot;, startTime);</span>
<span class="nc" id="L391">      String endTime = endTimeField.getText().trim();</span>
<span class="nc" id="L392">      String location = locationField.getText().trim();</span>
<span class="nc" id="L393">      eventData.put(&quot;endTime&quot;, endTime);</span>
<span class="nc" id="L394">      eventData.put(&quot;location&quot;, location);</span>
<span class="nc" id="L395">      String description = descriptionField.getText().trim();</span>

<span class="nc" id="L397">      eventData.put(&quot;description&quot;, description);</span>
<span class="nc" id="L398">      eventData.put(&quot;isRecurring&quot;, isRecurring);</span>
<span class="nc" id="L399">      eventData.put(&quot;repeatsPattern&quot;, repeatsPattern);</span>
<span class="nc" id="L400">      eventData.put(&quot;untilDate&quot;, untilDate);</span>
<span class="nc" id="L401">      eventData.put(&quot;numberOfTimes&quot;, numberOfTimes);</span>
<span class="nc" id="L402">      String status = statusField.getText().trim();</span>
<span class="nc" id="L403">      eventData.put(&quot;status&quot;, status);</span>
<span class="nc" id="L404">      String lastDate = untilDateField.getText().trim();</span>
<span class="nc" id="L405">      eventData.put(&quot;lastDate&quot;, lastDate);</span>


<span class="nc" id="L408">      createEventDialog.dispose();</span>


<span class="nc bnc" id="L411" title="All 2 branches missed.">      if (guiControllerFeatures != null) {</span>
<span class="nc" id="L412">        guiControllerFeatures.handleDialogBoxCreateEvent(eventData);</span>

      }

<span class="nc" id="L416">      System.out.println(&quot;Event Created: &quot; + eventData);</span>
<span class="nc" id="L417">    });</span>

<span class="nc" id="L419">  }</span>

  /**
   * test.
   *
   * @param mainPanel test
   */
  private void setupRecurringEventOptions(JPanel mainPanel) {

<span class="nc" id="L428">    recurringCheckBox = new JCheckBox(&quot;Recurring Event&quot;);</span>
<span class="nc" id="L429">    recurringCheckBox.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L430">    recurringCheckBox.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L431">    mainPanel.add(recurringCheckBox);</span>
<span class="nc" id="L432">    mainPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>


<span class="nc" id="L435">    recurringPanel = new JPanel();</span>
<span class="nc" id="L436">    recurringPanel.setLayout(new BoxLayout(recurringPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L437">    recurringPanel.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L438">        BorderFactory.createLineBorder(Color.LIGHT_GRAY),</span>
<span class="nc" id="L439">        BorderFactory.createEmptyBorder(10, 10, 10, 10)</span>
    ));
<span class="nc" id="L441">    recurringPanel.setVisible(false);</span>
<span class="nc" id="L442">  }</span>

  /**
   * test.
   *
   * @param basicEventFeilds test
   */
  private void setupBasicEventFeilds(JPanel basicEventFeilds) {

<span class="nc" id="L451">    JPanel basicFieldsPanel = new JPanel(new GridLayout(8, 2, 10, 10));</span>

<span class="nc" id="L453">    JLabel nameLabel = new JLabel(&quot;Event Name:&quot;);</span>
<span class="nc" id="L454">    nameLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L455">    basicFieldsPanel.add(nameLabel);</span>

<span class="nc" id="L457">    eventNameField = new JTextField();</span>
<span class="nc" id="L458">    eventNameField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L459">    basicFieldsPanel.add(eventNameField);</span>

<span class="nc" id="L461">    JLabel statusLabel = new JLabel(&quot;Status:&quot;);</span>
<span class="nc" id="L462">    statusLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L463">    basicFieldsPanel.add(statusLabel);</span>

<span class="nc" id="L465">    statusField = new JTextField(&quot;Private&quot;);</span>
<span class="nc" id="L466">    statusField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L467">    basicFieldsPanel.add(statusField);</span>

<span class="nc" id="L469">    JLabel dateLabel = new JLabel(&quot;Start Date (YYYY-MM-DD):&quot;);</span>
<span class="nc" id="L470">    dateLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L471">    basicFieldsPanel.add(dateLabel);</span>

<span class="nc" id="L473">    startDateField = new JLabel(currentDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));</span>
<span class="nc" id="L474">    startDateField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L475">    startDateField.setText(getCurrentDate().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));</span>
<span class="nc" id="L476">    basicFieldsPanel.add(startDateField);</span>

<span class="nc" id="L478">    JLabel endDateLabel = new JLabel(&quot;End Date (YYYY-MM-DD):&quot;);</span>
<span class="nc" id="L479">    endDateLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L480">    basicFieldsPanel.add(endDateLabel);</span>

<span class="nc" id="L482">    endDateField = new JTextField(currentDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));</span>
<span class="nc" id="L483">    endDateField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L484">    basicFieldsPanel.add(endDateField);</span>

<span class="nc" id="L486">    JLabel startTimeLabel = new JLabel(&quot;Start Time (hh:mm):&quot;);</span>
<span class="nc" id="L487">    startTimeLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L488">    basicFieldsPanel.add(startTimeLabel);</span>

<span class="nc" id="L490">    startTimeField = new JTextField(&quot;08:00&quot;);</span>
<span class="nc" id="L491">    startTimeField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L492">    basicFieldsPanel.add(startTimeField);</span>

<span class="nc" id="L494">    JLabel endTimeLabel = new JLabel(&quot;End Time (hh:mm):&quot;);</span>
<span class="nc" id="L495">    endTimeLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L496">    basicFieldsPanel.add(endTimeLabel);</span>

<span class="nc" id="L498">    endTimeField = new JTextField(&quot;17:00&quot;);</span>
<span class="nc" id="L499">    endTimeField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L500">    basicFieldsPanel.add(endTimeField);</span>

<span class="nc" id="L502">    JLabel locationLabel = new JLabel(&quot;Location:&quot;);</span>
<span class="nc" id="L503">    locationLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L504">    basicFieldsPanel.add(locationLabel);</span>

<span class="nc" id="L506">    locationField = new JTextField(&quot;Online&quot;);</span>
<span class="nc" id="L507">    locationField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L508">    basicFieldsPanel.add(locationField);</span>

<span class="nc" id="L510">    JLabel descriptionLabel = new JLabel(&quot;Description:&quot;);</span>
<span class="nc" id="L511">    descriptionLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L512">    basicFieldsPanel.add(descriptionLabel);</span>

<span class="nc" id="L514">    descriptionField = new JTextField(&quot;This is s sample description&quot;);</span>
<span class="nc" id="L515">    descriptionField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L516">    basicFieldsPanel.add(descriptionField);</span>


<span class="nc" id="L519">    basicEventFeilds.add(basicFieldsPanel);</span>
<span class="nc" id="L520">    basicEventFeilds.add(Box.createRigidArea(new Dimension(0, 15)));</span>

<span class="nc" id="L522">  }</span>

  /**
   * test.
   */
  public void previousMonth() {
<span class="nc" id="L528">    currentYearMonth = currentYearMonth.minusMonths(1);</span>
<span class="nc" id="L529">    selectedDayButton = null;</span>
<span class="nc" id="L530">    populateCalendar();</span>
<span class="nc" id="L531">  }</span>

  /**
   * test.
   */
  public void nextMonth() {
<span class="nc" id="L537">    currentYearMonth = currentYearMonth.plusMonths(1);</span>
<span class="nc" id="L538">    selectedDayButton = null;</span>
<span class="nc" id="L539">    populateCalendar();</span>
<span class="nc" id="L540">  }</span>

  @Override
  public void showCalendars(List&lt;String&gt; calendars) {

<span class="nc" id="L545">    leftContentPanel.removeAll();</span>

<span class="nc bnc" id="L547" title="All 4 branches missed.">    if (calendars == null || calendars.isEmpty()) {</span>
<span class="nc" id="L548">      JLabel noCalLabel = new JLabel(&quot;No calendars available&quot;);</span>
<span class="nc" id="L549">      noCalLabel.setForeground(Color.GRAY);</span>
<span class="nc" id="L550">      noCalLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 12));</span>
<span class="nc" id="L551">      noCalLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L552">      leftContentPanel.add(Box.createRigidArea(new Dimension(0, 20)));</span>
<span class="nc" id="L553">      leftContentPanel.add(noCalLabel);</span>
<span class="nc" id="L554">    } else {</span>
<span class="nc bnc" id="L555" title="All 2 branches missed.">      for (String calendar : calendars) {</span>
<span class="nc" id="L556">        calButton = new JButton(calendar);</span>
<span class="nc" id="L557">        calButton.setText(calendar);</span>
<span class="nc" id="L558">        calButton.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L559">        calButton.setMaximumSize(new Dimension(200, 35));</span>
<span class="nc" id="L560">        calButton.setPreferredSize(new Dimension(180, 35));</span>
<span class="nc" id="L561">        calButton.setMinimumSize(new Dimension(150, 35));</span>

<span class="nc" id="L563">        calButton.setBackground(Color.WHITE);</span>
<span class="nc" id="L564">        calButton.setFocusPainted(false);</span>
<span class="nc" id="L565">        calButton.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L566">            BorderFactory.createLineBorder(new Color(200, 200, 200), 1),</span>
<span class="nc" id="L567">            BorderFactory.createEmptyBorder(5, 10, 5, 10)</span>
        ));

<span class="nc" id="L570">        calButton.addMouseListener(new java.awt.event.MouseAdapter() {</span>
          public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L572">            calButton.setBackground(new Color(245, 245, 245));</span>
<span class="nc" id="L573">          }</span>

          public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L576">            calButton.setBackground(Color.WHITE);</span>
<span class="nc" id="L577">          }</span>
        });

<span class="nc" id="L580">        calButton.addActionListener(e -&gt; {</span>
<span class="nc" id="L581">          System.out.println(&quot;Calendar clicked: &quot; + calendar);</span>
<span class="nc bnc" id="L582" title="All 2 branches missed.">          if (guiControllerFeatures != null) {</span>
<span class="nc" id="L583">            guiControllerFeatures.handleCalendarClicked(calendar);</span>
          }
<span class="nc" id="L585">        });</span>
<span class="nc" id="L586">        leftContentPanel.add(calButton);</span>
<span class="nc" id="L587">        leftContentPanel.add(Box.createRigidArea(new Dimension(0, 5)));</span>
<span class="nc" id="L588">      }</span>
    }

<span class="nc" id="L591">    leftContentPanel.add(Box.createVerticalGlue());</span>


<span class="nc" id="L594">    createCalendarBtn.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L595">    createCalendarBtn.setMaximumSize(new Dimension(200, 35));</span>
<span class="nc" id="L596">    createCalendarBtn.setPreferredSize(new Dimension(180, 35));</span>
<span class="nc" id="L597">    createCalendarBtn.setBackground(new Color(70, 130, 180));</span>
<span class="nc" id="L598">    createCalendarBtn.setForeground(Color.BLACK);</span>
<span class="nc" id="L599">    createCalendarBtn.setFocusPainted(false);</span>
<span class="nc" id="L600">    createCalendarBtn.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L601">    createCalendarBtn.setBorder(BorderFactory.createEmptyBorder(5, 10, 5, 10));</span>

<span class="nc" id="L603">    createCalendarBtn.addMouseListener(new java.awt.event.MouseAdapter() {</span>
      public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L605">        createCalendarBtn.setBackground(new Color(100, 149, 237));</span>
<span class="nc" id="L606">      }</span>

      public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L609">        createCalendarBtn.setBackground(new Color(70, 130, 180));</span>
<span class="nc" id="L610">      }</span>
    });


<span class="nc" id="L614">    leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>
<span class="nc" id="L615">    leftContentPanel.add(createCalendarBtn);</span>
<span class="nc" id="L616">    leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>

<span class="nc" id="L618">    leftContentPanel.revalidate();</span>
<span class="nc" id="L619">    leftContentPanel.repaint();</span>
<span class="nc" id="L620">    leftPanel.revalidate();</span>
<span class="nc" id="L621">    leftPanel.repaint();</span>
<span class="nc" id="L622">  }</span>

  @Override
  public void showCreateCalendarDialogBox() {
<span class="nc" id="L626">    dialog = new JDialog(this, &quot;Create New Calendar&quot;, true);</span>
<span class="nc" id="L627">    dialog.setSize(400, 200);</span>
<span class="nc" id="L628">    dialog.setLocationRelativeTo(this);</span>
<span class="nc" id="L629">    dialog.setLayout(new BorderLayout());</span>

<span class="nc" id="L631">    JPanel inputPanel = new JPanel(new GridLayout(3, 2, 10, 10));</span>
<span class="nc" id="L632">    inputPanel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));</span>

<span class="nc" id="L634">    JLabel nameLabel = new JLabel(&quot;Calendar Name:&quot;);</span>
<span class="nc" id="L635">    nameLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L636">    inputPanel.add(nameLabel);</span>

<span class="nc" id="L638">    calendarNameField = new JTextField();</span>
<span class="nc" id="L639">    calendarNameField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L640">    inputPanel.add(calendarNameField);</span>

<span class="nc" id="L642">    JLabel timeZoneLabel = new JLabel(&quot;Time Zone (Area/Location):&quot;);</span>
<span class="nc" id="L643">    timeZoneLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L644">    inputPanel.add(timeZoneLabel);</span>

<span class="nc" id="L646">    timeZoneField = new JTextField(&quot;America/New_York&quot;);</span>
<span class="nc" id="L647">    timeZoneField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L648">    inputPanel.add(timeZoneField);</span>

<span class="nc" id="L650">    inputPanel.add(new JLabel(&quot;&quot;));</span>
<span class="nc" id="L651">    JLabel exampleLabel = new JLabel(&quot;e.g., America/New_York, Europe/London, UTC&quot;);</span>
<span class="nc" id="L652">    exampleLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 10));</span>
<span class="nc" id="L653">    exampleLabel.setForeground(Color.GRAY);</span>
<span class="nc" id="L654">    inputPanel.add(exampleLabel);</span>

<span class="nc" id="L656">    JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));</span>
<span class="nc" id="L657">    buttonPanel.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));</span>


<span class="nc" id="L660">    createCalendarDialogBoxBtn.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L661">    createCalendarDialogBoxBtn.setBackground(Color.BLACK);</span>
<span class="nc" id="L662">    createCalendarDialogBoxBtn.setForeground(Color.BLACK);</span>
<span class="nc" id="L663">    createCalendarDialogBoxBtn.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L664">    createCalendarDialogBoxBtn.setFocusPainted(false);</span>


<span class="nc" id="L667">    JButton cancelBtn = new JButton(&quot;Cancel&quot;);</span>
<span class="nc" id="L668">    cancelBtn.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L669">    cancelBtn.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L670">    cancelBtn.addActionListener(evt -&gt; dialog.dispose());</span>

<span class="nc" id="L672">    buttonPanel.add(createCalendarDialogBoxBtn);</span>
<span class="nc" id="L673">    buttonPanel.add(cancelBtn);</span>

<span class="nc" id="L675">    dialog.add(inputPanel, BorderLayout.CENTER);</span>
<span class="nc" id="L676">    dialog.add(buttonPanel, BorderLayout.SOUTH);</span>

<span class="nc" id="L678">    dialog.setVisible(true);</span>
<span class="nc" id="L679">  }</span>

  @Override
  public void showCalendarNameExistsError(String calendarName, boolean isEditing, String oldName) {
<span class="nc" id="L683">    JOptionPane.showMessageDialog(this,</span>
        &quot;A calendar with the name '&quot; + calendarName
            + &quot;' already exists. Please choose a different name.&quot;,
        &quot;Calendar Already Exists&quot;,
        JOptionPane.ERROR_MESSAGE);

<span class="nc bnc" id="L689" title="All 2 branches missed.">    if (isEditing) {</span>
<span class="nc" id="L690">      String newName = JOptionPane.showInputDialog(</span>
          this,
          &quot;Enter new name for calendar '&quot; + oldName + &quot;':&quot;,
          &quot;Edit Calendar Name&quot;,
          JOptionPane.PLAIN_MESSAGE
      );

<span class="nc bnc" id="L697" title="All 4 branches missed.">      if (newName != null &amp;&amp; !newName.trim().isEmpty()) {</span>
<span class="nc" id="L698">        guiControllerFeatures.handleEditCalendarNameClicked(oldName, newName.trim());</span>
      }
<span class="nc" id="L700">    } else {</span>
<span class="nc" id="L701">      showCreateCalendarDialogBox();</span>
    }
<span class="nc" id="L703">  }</span>

  @Override
  public void showEventExistsError(Event event, boolean isEditing, boolean eventExists) {

<span class="nc bnc" id="L708" title="All 2 branches missed.">    if (eventExists) {</span>

<span class="nc bnc" id="L710" title="All 2 branches missed.">      if (isEditing) {</span>
<span class="nc" id="L711">        JOptionPane.showMessageDialog(this,</span>
            &quot;Event already exists.&quot;,
            &quot;Event with the same properties exists.&quot;,
            JOptionPane.ERROR_MESSAGE);
<span class="nc" id="L715">        showEditEventDialogBox(event);</span>
      } else {
<span class="nc" id="L717">        JOptionPane.showMessageDialog(this,</span>
            &quot;Event already exists.&quot;,
            &quot;Event with the same properties exists.&quot;,
            JOptionPane.ERROR_MESSAGE);
<span class="nc" id="L721">        showCreateEventDialogBox();</span>
      }

    } else {
<span class="nc bnc" id="L725" title="All 2 branches missed.">      if (isEditing) {</span>

<span class="nc" id="L727">        showEditEventDialogBox(event);</span>

      }
<span class="nc" id="L730">      showCreateEventDialogBox();</span>
    }
<span class="nc" id="L732">  }</span>

  @Override
  public void showCalendarOptionsMenu(String calendarName, int x, int y) {


<span class="nc" id="L738">    JMenuItem useCalendarItem = new JMenuItem(&quot;Use Calendar&quot;);</span>
<span class="nc" id="L739">    JMenuItem editNameItem = new JMenuItem(&quot;Edit Calendar Name&quot;);</span>
<span class="nc" id="L740">    JMenuItem editTimezoneItem = new JMenuItem(&quot;Edit Calendar Timezone&quot;);</span>

<span class="nc" id="L742">    useCalendarItem.addActionListener(e -&gt; {</span>
<span class="nc bnc" id="L743" title="All 2 branches missed.">      if (guiControllerFeatures != null) {</span>
<span class="nc" id="L744">        guiControllerFeatures.handleUseCalendarClicked(calendarName);</span>
<span class="nc" id="L745">        String timezone = guiControllerFeatures.getCalendarTimezone(calendarName);</span>
<span class="nc" id="L746">        updateCurrentCalendarLabel(calendarName, timezone);</span>
      }
<span class="nc" id="L748">    });</span>

<span class="nc" id="L750">    editNameItem.addActionListener(e -&gt; {</span>
<span class="nc bnc" id="L751" title="All 2 branches missed.">      if (guiControllerFeatures != null) {</span>
<span class="nc" id="L752">        String newName = JOptionPane.showInputDialog(</span>
            this,
            &quot;Enter new name for calendar '&quot; + calendarName + &quot;':&quot;,
            &quot;Edit Calendar Name&quot;,
            JOptionPane.PLAIN_MESSAGE
        );

<span class="nc bnc" id="L759" title="All 4 branches missed.">        if (newName != null &amp;&amp; !newName.trim().isEmpty()) {</span>
<span class="nc" id="L760">          guiControllerFeatures.handleEditCalendarNameClicked(calendarName, newName.trim());</span>
<span class="nc bnc" id="L761" title="All 2 branches missed.">          if (calendarName.equals(guiControllerFeatures.getCurrentCalendarName())) {</span>
<span class="nc" id="L762">            String timezone = guiControllerFeatures.getCurrentCalendarTimezone();</span>
<span class="nc" id="L763">            updateCurrentCalendarLabel(newName.trim(), timezone);</span>
          }
        }
      }
<span class="nc" id="L767">    });</span>

<span class="nc" id="L769">    editTimezoneItem.addActionListener(e -&gt; {</span>
<span class="nc bnc" id="L770" title="All 2 branches missed.">      if (guiControllerFeatures != null) {</span>
<span class="nc" id="L771">        String newTimezone = JOptionPane.showInputDialog(</span>
            this,
            &quot;Enter new timezone for calendar '&quot; + calendarName + &quot;' (e.g., America/New_York):&quot;,
            &quot;Edit Calendar Timezone&quot;,
            JOptionPane.PLAIN_MESSAGE
        );

<span class="nc bnc" id="L778" title="All 4 branches missed.">        if (newTimezone != null &amp;&amp; !newTimezone.trim().isEmpty()) {</span>
          try {
<span class="nc" id="L780">            ZoneId.of(newTimezone.trim());</span>
<span class="nc" id="L781">            guiControllerFeatures.handleEditCalendarTimezoneClicked(calendarName,</span>
<span class="nc" id="L782">                newTimezone.trim());</span>
<span class="nc bnc" id="L783" title="All 2 branches missed.">            if (calendarName.equals(guiControllerFeatures.getCurrentCalendarName())) {</span>
<span class="nc" id="L784">              updateCurrentCalendarLabel(calendarName, newTimezone.trim());</span>
            }
<span class="nc" id="L786">          } catch (Exception ex) {</span>
<span class="nc" id="L787">            JOptionPane.showMessageDialog(</span>
                this,
                &quot;Invalid timezone format. Please use format like &quot;
                    + &quot;'America/New_York' or 'UTC'.\nError: &quot;
                    +
<span class="nc" id="L792">                    ex.getMessage(),</span>
                &quot;Invalid Timezone&quot;,
                JOptionPane.ERROR_MESSAGE
            );
<span class="nc" id="L796">          }</span>
        }
      }
<span class="nc" id="L799">    });</span>

<span class="nc" id="L801">    JPopupMenu popupMenu = new JPopupMenu();</span>
<span class="nc" id="L802">    popupMenu.add(useCalendarItem);</span>
<span class="nc" id="L803">    popupMenu.addSeparator();</span>
<span class="nc" id="L804">    popupMenu.add(editNameItem);</span>
<span class="nc" id="L805">    popupMenu.add(editTimezoneItem);</span>

<span class="nc" id="L807">    popupMenu.show(leftContentPanel, x, y);</span>
<span class="nc" id="L808">  }</span>

  @Override
  public void updateCurrentCalendarLabel(String calendarName, String timezone) {
<span class="nc bnc" id="L812" title="All 4 branches missed.">    if (calendarName != null &amp;&amp; !calendarName.isEmpty()) {</span>
<span class="nc" id="L813">      currentCalendarLabel.setText(&quot;Current: &quot; + calendarName + &quot; (&quot; + timezone + &quot;)&quot;);</span>
    } else {
<span class="nc" id="L815">      currentCalendarLabel.setText(&quot;Current: None&quot;);</span>
    }
<span class="nc" id="L817">  }</span>

  @Override
  public void showEventsOfTheDay(List&lt;Event&gt; events) {

<span class="nc" id="L822">    leftContentPanel.removeAll();</span>

<span class="nc bnc" id="L824" title="All 4 branches missed.">    if (events == null || events.isEmpty()) {</span>
<span class="nc" id="L825">      JLabel noEventsLabel = new JLabel(&quot;No events for this day&quot;);</span>
<span class="nc" id="L826">      noEventsLabel.setForeground(Color.GRAY);</span>
<span class="nc" id="L827">      noEventsLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 12));</span>
<span class="nc" id="L828">      noEventsLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L829">      leftContentPanel.add(Box.createRigidArea(new Dimension(0, 20)));</span>
<span class="nc" id="L830">      leftContentPanel.add(noEventsLabel);</span>
<span class="nc" id="L831">    } else {</span>
<span class="nc" id="L832">      JLabel eventsHeaderLabel = new JLabel(&quot;Events for Selected Day&quot;);</span>
<span class="nc" id="L833">      eventsHeaderLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));</span>
<span class="nc" id="L834">      eventsHeaderLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L835">      leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>
<span class="nc" id="L836">      leftContentPanel.add(eventsHeaderLabel);</span>
<span class="nc" id="L837">      leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>

<span class="nc bnc" id="L839" title="All 2 branches missed.">      for (Event event : events) {</span>
<span class="nc" id="L840">        eventButton = new JButton(event.toString());</span>
<span class="nc" id="L841">        eventButton.setText(event.toString());</span>
<span class="nc" id="L842">        eventButton.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L843">        eventButton.setMaximumSize(new Dimension(200, 35));</span>
<span class="nc" id="L844">        eventButton.setPreferredSize(new Dimension(180, 35));</span>
<span class="nc" id="L845">        eventButton.setMinimumSize(new Dimension(150, 35));</span>

<span class="nc" id="L847">        eventButton.setBackground(Color.BLUE);</span>
<span class="nc" id="L848">        eventButton.setFocusPainted(false);</span>
<span class="nc" id="L849">        eventButton.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L850">            BorderFactory.createLineBorder(new Color(200, 200, 200), 1),</span>
<span class="nc" id="L851">            BorderFactory.createEmptyBorder(5, 10, 5, 10)</span>
        ));

<span class="nc" id="L854">        eventButton.addMouseListener(new java.awt.event.MouseAdapter() {</span>
          public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L856">            eventButton.setBackground(new Color(245, 245, 245));</span>
<span class="nc" id="L857">          }</span>

          public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L860">            eventButton.setBackground(Color.BLUE);</span>
<span class="nc" id="L861">          }</span>
        });

<span class="nc" id="L864">        eventButton.addActionListener(e -&gt; {</span>
<span class="nc bnc" id="L865" title="All 2 branches missed.">          if (event.getEventSeriesId() != null) {</span>

<span class="nc" id="L867">            showEditSeriesDialogBox(event);</span>

          } else {
<span class="nc" id="L870">            showEditEventDialogBox(event);</span>
          }
<span class="nc" id="L872">        });</span>

<span class="nc" id="L874">        leftContentPanel.add(eventButton);</span>
<span class="nc" id="L875">        leftContentPanel.add(Box.createRigidArea(new Dimension(0, 5)));</span>
<span class="nc" id="L876">      }</span>
    }

<span class="nc" id="L879">    leftContentPanel.add(Box.createVerticalGlue());</span>

<span class="nc" id="L881">    createEventBtn = new JButton(&quot;+ Create New Event&quot;);</span>
<span class="nc" id="L882">    createEventBtn.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L883">    createEventBtn.setMaximumSize(new Dimension(200, 35));</span>
<span class="nc" id="L884">    createEventBtn.setPreferredSize(new Dimension(180, 35));</span>
<span class="nc" id="L885">    createEventBtn.setBackground(Color.BLACK);</span>
<span class="nc" id="L886">    createEventBtn.setFocusPainted(false);</span>
<span class="nc" id="L887">    createEventBtn.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L888">    createEventBtn.setBorder(BorderFactory</span>
<span class="nc" id="L889">        .createEmptyBorder(5, 10, 5, 10));</span>

<span class="nc" id="L891">    createEventBtn.addMouseListener(new java.awt.event.MouseAdapter() {</span>
      public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L893">        createEventBtn.setBackground(new Color(100, 149, 237));</span>
<span class="nc" id="L894">      }</span>

      public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L897">        createEventBtn.setBackground(new Color(70, 130, 180));</span>
<span class="nc" id="L898">      }</span>
    });

<span class="nc" id="L901">    createEventBtn.addActionListener(e -&gt; {</span>
<span class="nc" id="L902">      showCreateEventDialogBox();</span>
<span class="nc" id="L903">    });</span>

<span class="nc" id="L905">    leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>
<span class="nc" id="L906">    leftContentPanel.add(createEventBtn);</span>
<span class="nc" id="L907">    leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>


<span class="nc" id="L910">    leftContentPanel.revalidate();</span>
<span class="nc" id="L911">    leftContentPanel.repaint();</span>
<span class="nc" id="L912">    leftPanel.revalidate();</span>
<span class="nc" id="L913">    leftPanel.repaint();</span>
<span class="nc" id="L914">  }</span>

  @Override
  public LocalDate getCurrentDate() {

<span class="nc" id="L919">    return this.currentDate;</span>

  }

  @Override
  public void showEditEventDialogBox(Event event) {

<span class="nc" id="L926">    eventNameField = new JTextField(event.getSubject());</span>
<span class="nc" id="L927">    statusField = new JTextField(event.getStatus());</span>
<span class="nc" id="L928">    startDateTextField = new JTextField(event.getStartDate().toString());</span>
<span class="nc" id="L929">    endDateField = new JTextField(event.getEndDate().toString());</span>
<span class="nc" id="L930">    startTimeField = new JTextField(event.getStartTime().toString());</span>
<span class="nc" id="L931">    endTimeField = new JTextField(event.getEndTime().toString());</span>
<span class="nc" id="L932">    locationField = new JTextField(event.getLocation().toString());</span>
<span class="nc" id="L933">    descriptionField = new JTextField(event.getDescription());</span>


<span class="nc" id="L936">    editEventDialog = new JDialog(this, &quot;Edit Event&quot;, true);</span>
<span class="nc" id="L937">    editEventDialog.setSize(500, 450);</span>
<span class="nc" id="L938">    editEventDialog.setLocationRelativeTo(this);</span>
<span class="nc" id="L939">    editEventDialog.setLayout(new BorderLayout());</span>

<span class="nc" id="L941">    JPanel mainPanel = new JPanel();</span>
<span class="nc" id="L942">    mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L943">    mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));</span>


<span class="nc" id="L946">    JLabel titleLabel = new JLabel(&quot;Current Event Details&quot;);</span>
<span class="nc" id="L947">    titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));</span>
<span class="nc" id="L948">    titleLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L949">    mainPanel.add(titleLabel);</span>
<span class="nc" id="L950">    mainPanel.add(Box.createRigidArea(new Dimension(0, 15)));</span>


<span class="nc" id="L953">    JPanel currentValuesPanel = new JPanel(new GridLayout(8, 2, 10, 5));</span>
<span class="nc" id="L954">    currentValuesPanel.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L955">        BorderFactory.createLineBorder(Color.LIGHT_GRAY),</span>
<span class="nc" id="L956">        BorderFactory.createEmptyBorder(10, 10, 10, 10)</span>
    ));


<span class="nc" id="L960">    currentValuesPanel.add(new JLabel(&quot;Event Name:&quot;));</span>
<span class="nc" id="L961">    JLabel nameValueLabel = new JLabel(eventNameField.getText());</span>
<span class="nc" id="L962">    nameValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L963">    currentValuesPanel.add(nameValueLabel);</span>

<span class="nc" id="L965">    currentValuesPanel.add(new JLabel(&quot;Status:&quot;));</span>
<span class="nc" id="L966">    JLabel statusValueLabel = new JLabel(statusField.getText());</span>
<span class="nc" id="L967">    statusValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L968">    currentValuesPanel.add(statusValueLabel);</span>

<span class="nc" id="L970">    currentValuesPanel.add(new JLabel(&quot;Start Date:&quot;));</span>
<span class="nc" id="L971">    JLabel startDateValueLabel = new JLabel(startDateTextField.getText());</span>
<span class="nc" id="L972">    startDateValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L973">    currentValuesPanel.add(startDateValueLabel);</span>

<span class="nc" id="L975">    currentValuesPanel.add(new JLabel(&quot;End Date:&quot;));</span>
<span class="nc" id="L976">    JLabel endDateValueLabel = new JLabel(endDateField.getText());</span>
<span class="nc" id="L977">    endDateValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L978">    currentValuesPanel.add(endDateValueLabel);</span>

<span class="nc" id="L980">    currentValuesPanel.add(new JLabel(&quot;Start Time:&quot;));</span>
<span class="nc" id="L981">    JLabel startTimeValueLabel = new JLabel(startTimeField.getText());</span>
<span class="nc" id="L982">    startTimeValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L983">    currentValuesPanel.add(startTimeValueLabel);</span>

<span class="nc" id="L985">    currentValuesPanel.add(new JLabel(&quot;End Time:&quot;));</span>
<span class="nc" id="L986">    JLabel endTimeValueLabel = new JLabel(endTimeField.getText());</span>
<span class="nc" id="L987">    endTimeValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L988">    currentValuesPanel.add(endTimeValueLabel);</span>

<span class="nc" id="L990">    currentValuesPanel.add(new JLabel(&quot;Location:&quot;));</span>
<span class="nc" id="L991">    JLabel locationValueLabel = new JLabel(locationField.getText());</span>
<span class="nc" id="L992">    locationValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L993">    currentValuesPanel.add(locationValueLabel);</span>

<span class="nc" id="L995">    currentValuesPanel.add(new JLabel(&quot;Description:&quot;));</span>
<span class="nc" id="L996">    JLabel descriptionValueLabel = new JLabel(descriptionField.getText());</span>
<span class="nc" id="L997">    descriptionValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L998">    currentValuesPanel.add(descriptionValueLabel);</span>

<span class="nc" id="L1000">    mainPanel.add(currentValuesPanel);</span>
<span class="nc" id="L1001">    mainPanel.add(Box.createRigidArea(new Dimension(0, 20)));</span>


<span class="nc" id="L1004">    JSeparator separator = new JSeparator();</span>
<span class="nc" id="L1005">    mainPanel.add(separator);</span>
<span class="nc" id="L1006">    mainPanel.add(Box.createRigidArea(new Dimension(0, 15)));</span>


<span class="nc" id="L1009">    JLabel editLabel = new JLabel(&quot;Select Property to Edit:&quot;);</span>
<span class="nc" id="L1010">    editLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L1011">    editLabel.setAlignmentX(Component.LEFT_ALIGNMENT);</span>
<span class="nc" id="L1012">    mainPanel.add(editLabel);</span>
<span class="nc" id="L1013">    mainPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>


<span class="nc" id="L1016">    JPanel editPanel = new JPanel(new GridLayout(2, 2, 10, 10));</span>

<span class="nc" id="L1018">    propertyLabel = new JLabel(&quot;Property:&quot;);</span>
<span class="nc" id="L1019">    editPanel.add(propertyLabel);</span>

<span class="nc" id="L1021">    String[] properties = {&quot;Event Name&quot;, &quot;Status&quot;, &quot;Start Date&quot;, &quot;End Date&quot;,</span>
        &quot;Start Time&quot;, &quot;End Time&quot;, &quot;Location&quot;, &quot;Description&quot;};
<span class="nc" id="L1023">    JComboBox&lt;String&gt; propertyComboBox = new JComboBox&lt;&gt;(properties);</span>
<span class="nc" id="L1024">    editPanel.add(propertyComboBox);</span>

<span class="nc" id="L1026">    JLabel newValueLabel = new JLabel(&quot;New Value:&quot;);</span>
<span class="nc" id="L1027">    editPanel.add(newValueLabel);</span>

<span class="nc" id="L1029">    JTextField newValueField = new JTextField();</span>
<span class="nc" id="L1030">    editPanel.add(newValueField);</span>

<span class="nc" id="L1032">    mainPanel.add(editPanel);</span>
<span class="nc" id="L1033">    mainPanel.add(Box.createRigidArea(new Dimension(0, 20)));</span>




<span class="nc" id="L1038">    editEventBtn = new JButton(&quot;Update&quot;);</span>
<span class="nc" id="L1039">    editEventBtn.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L1040">    editEventBtn.setBackground(new Color(70, 130, 180));</span>
<span class="nc" id="L1041">    editEventBtn.setForeground(Color.BLACK);</span>
<span class="nc" id="L1042">    editEventBtn.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>

<span class="nc" id="L1044">    handleDialogBoxEditEvent(newValueField, propertyComboBox);</span>


<span class="nc" id="L1047">    JButton cancelBtn = new JButton(&quot;Cancel&quot;);</span>
<span class="nc" id="L1048">    cancelBtn.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L1049">    cancelBtn.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1050">    cancelBtn.addActionListener(evt -&gt; editEventDialog.dispose());</span>

<span class="nc" id="L1052">    JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));</span>
<span class="nc" id="L1053">    buttonPanel.add(editEventBtn);</span>
<span class="nc" id="L1054">    buttonPanel.add(cancelBtn);</span>


<span class="nc" id="L1057">    JScrollPane scrollPane = new JScrollPane(mainPanel);</span>
<span class="nc" id="L1058">    scrollPane.setBorder(null);</span>

<span class="nc" id="L1060">    editEventDialog.add(scrollPane, BorderLayout.CENTER);</span>
<span class="nc" id="L1061">    editEventDialog.add(buttonPanel, BorderLayout.SOUTH);</span>

<span class="nc" id="L1063">    editEventDialog.setVisible(true);</span>
<span class="nc" id="L1064">  }</span>

  @Override
  public void showCreateEventDialogBox() {

<span class="nc" id="L1069">    createEventDialog = new JDialog(this, &quot;Create New Event&quot;, true);</span>
<span class="nc" id="L1070">    createEventDialog.setSize(450, 500);</span>
<span class="nc" id="L1071">    createEventDialog.setLocationRelativeTo(this);</span>
<span class="nc" id="L1072">    createEventDialog.setLayout(new BorderLayout());</span>

<span class="nc" id="L1074">    JPanel mainPanel = new JPanel();</span>
<span class="nc" id="L1075">    mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L1076">    mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));</span>

<span class="nc" id="L1078">    setupBasicEventFeilds(mainPanel);</span>

<span class="nc" id="L1080">    setupRecurringEventOptions(mainPanel);</span>



<span class="nc" id="L1084">    JLabel repeatsLabel = new JLabel(&quot;Repeats:&quot;);</span>
<span class="nc" id="L1085">    repeatsLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1086">    repeatsLabel.setPreferredSize(new Dimension(80, 25));</span>
<span class="nc" id="L1087">    repeatsField = new JTextField();</span>
<span class="nc" id="L1088">    repeatsField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1089">    repeatsField.setPreferredSize(new Dimension(250, 25));</span>
<span class="nc" id="L1090">    repeatsField.setToolTipText(&quot;e.g., Daily, Weekly, Monthly&quot;);</span>
<span class="nc" id="L1091">    JPanel repeatsPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));</span>
<span class="nc" id="L1092">    repeatsPanel.add(repeatsLabel);</span>
<span class="nc" id="L1093">    repeatsPanel.add(repeatsField);</span>
<span class="nc" id="L1094">    recurringPanel.add(repeatsPanel);</span>

<span class="nc" id="L1096">    recurringPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>






<span class="nc" id="L1103">    untilRadio = new JRadioButton(&quot;Until:&quot;);</span>
<span class="nc" id="L1104">    untilRadio.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1105">    untilRadio.setPreferredSize(new Dimension(80, 25));</span>
<span class="nc" id="L1106">    untilDateField = new JTextField();</span>
<span class="nc" id="L1107">    untilDateField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1108">    untilDateField.setPreferredSize(new Dimension(150, 25));</span>
<span class="nc" id="L1109">    untilDateField.setToolTipText(&quot;YYYY-MM-DD&quot;);</span>
<span class="nc" id="L1110">    untilDateField.setEnabled(false);</span>
<span class="nc" id="L1111">    JPanel untilPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));</span>
<span class="nc" id="L1112">    untilPanel.add(untilRadio);</span>
<span class="nc" id="L1113">    untilPanel.add(untilDateField);</span>
<span class="nc" id="L1114">    recurringPanel.add(untilPanel);</span>



<span class="nc" id="L1118">    timesRadio = new JRadioButton(&quot;No. of times:&quot;);</span>
<span class="nc" id="L1119">    timesRadio.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1120">    timesRadio.setPreferredSize(new Dimension(110, 25));</span>
<span class="nc" id="L1121">    timesField = new JTextField();</span>
<span class="nc" id="L1122">    timesField.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1123">    timesField.setPreferredSize(new Dimension(80, 25));</span>
<span class="nc" id="L1124">    timesField.setEnabled(false);</span>
<span class="nc" id="L1125">    JPanel timesPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));</span>
<span class="nc" id="L1126">    timesPanel.add(timesRadio);</span>
<span class="nc" id="L1127">    timesPanel.add(timesField);</span>
<span class="nc" id="L1128">    recurringPanel.add(timesPanel);</span>

<span class="nc" id="L1130">    ButtonGroup endConditionGroup = new ButtonGroup();</span>
<span class="nc" id="L1131">    endConditionGroup.add(untilRadio);</span>
<span class="nc" id="L1132">    endConditionGroup.add(timesRadio);</span>


<span class="nc" id="L1135">    untilRadio.addActionListener(e -&gt; {</span>
<span class="nc" id="L1136">      untilDateField.setEnabled(true);</span>
<span class="nc" id="L1137">      timesField.setEnabled(false);</span>
<span class="nc" id="L1138">      timesField.setText(&quot;&quot;);</span>
<span class="nc" id="L1139">    });</span>

<span class="nc" id="L1141">    timesRadio.addActionListener(e -&gt; {</span>
<span class="nc" id="L1142">      untilDateField.setEnabled(false);</span>
<span class="nc" id="L1143">      untilDateField.setText(&quot;&quot;);</span>
<span class="nc" id="L1144">      timesField.setEnabled(true);</span>
<span class="nc" id="L1145">    });</span>

<span class="nc" id="L1147">    mainPanel.add(recurringPanel);</span>


<span class="nc" id="L1150">    recurringCheckBox.addActionListener(e -&gt; {</span>
<span class="nc" id="L1151">      boolean isChecked = recurringCheckBox.isSelected();</span>
<span class="nc" id="L1152">      recurringPanel.setVisible(isChecked);</span>
<span class="nc bnc" id="L1153" title="All 2 branches missed.">      if (!isChecked) {</span>

<span class="nc" id="L1155">        repeatsField.setText(&quot;&quot;);</span>
<span class="nc" id="L1156">        untilDateField.setText(&quot;&quot;);</span>
<span class="nc" id="L1157">        timesField.setText(&quot;&quot;);</span>
<span class="nc" id="L1158">        endConditionGroup.clearSelection();</span>
<span class="nc" id="L1159">        untilDateField.setEnabled(false);</span>
<span class="nc" id="L1160">        timesField.setEnabled(false);</span>
      }
<span class="nc" id="L1162">      createEventDialog.pack();</span>
<span class="nc" id="L1163">      createEventDialog.setLocationRelativeTo(this);</span>
<span class="nc" id="L1164">    });</span>




<span class="nc" id="L1169">    createEventDialogBtn = new JButton(&quot;Create Event&quot;);</span>
<span class="nc" id="L1170">    createEventDialogBtn.setPreferredSize(new Dimension(120, 30));</span>
<span class="nc" id="L1171">    createEventDialogBtn.setBackground(Color.BLACK);</span>
<span class="nc" id="L1172">    createEventDialogBtn.setForeground(Color.BLACK);</span>
<span class="nc" id="L1173">    createEventDialogBtn.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L1174">    createEventDialogBtn.setFocusPainted(false);</span>

<span class="nc" id="L1176">    handleDialogBoxCreateEvent();</span>

<span class="nc" id="L1178">    JButton cancelBtn = new JButton(&quot;Cancel&quot;);</span>
<span class="nc" id="L1179">    cancelBtn.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L1180">    cancelBtn.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1181">    cancelBtn.addActionListener(evt -&gt; createEventDialog.dispose());</span>

<span class="nc" id="L1183">    buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));</span>
<span class="nc" id="L1184">    buttonPanel.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));</span>
<span class="nc" id="L1185">    buttonPanel.add(createEventDialogBtn);</span>
<span class="nc" id="L1186">    buttonPanel.add(cancelBtn);</span>

<span class="nc" id="L1188">    scrollPane = new JScrollPane(mainPanel);</span>
<span class="nc" id="L1189">    scrollPane.setBorder(null);</span>

<span class="nc" id="L1191">    createEventDialog.add(scrollPane, BorderLayout.CENTER);</span>
<span class="nc" id="L1192">    createEventDialog.add(buttonPanel, BorderLayout.SOUTH);</span>

<span class="nc" id="L1194">    createEventDialog.setVisible(true);</span>
<span class="nc" id="L1195">  }</span>

  @Override
  public void showSearchResults(List&lt;Event&gt; searchResults, String searchTerm) {
<span class="nc" id="L1199">    leftContentPanel.removeAll();</span>

<span class="nc bnc" id="L1201" title="All 4 branches missed.">    if (searchResults == null || searchResults.isEmpty()) {</span>
<span class="nc" id="L1202">      JLabel noResultsLabel = new JLabel(&quot;No events found for: &quot; + searchTerm);</span>
<span class="nc" id="L1203">      noResultsLabel.setForeground(Color.GRAY);</span>
<span class="nc" id="L1204">      noResultsLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 12));</span>
<span class="nc" id="L1205">      noResultsLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L1206">      leftContentPanel.add(Box.createRigidArea(new Dimension(0, 20)));</span>
<span class="nc" id="L1207">      leftContentPanel.add(noResultsLabel);</span>
<span class="nc" id="L1208">    } else {</span>
<span class="nc" id="L1209">      JLabel searchHeaderLabel = new JLabel(&quot;Search Results: &quot; + searchTerm);</span>
<span class="nc" id="L1210">      searchHeaderLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));</span>
<span class="nc" id="L1211">      searchHeaderLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L1212">      leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>
<span class="nc" id="L1213">      leftContentPanel.add(searchHeaderLabel);</span>
<span class="nc" id="L1214">      leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>

<span class="nc bnc" id="L1216" title="All 2 branches missed.">      for (Event event : searchResults) {</span>
<span class="nc" id="L1217">        JButton eventButton = new JButton(event.toString());</span>
<span class="nc" id="L1218">        eventButton.setText(event.toString());</span>
<span class="nc" id="L1219">        eventButton.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L1220">        eventButton.setMaximumSize(new Dimension(200, 35));</span>
<span class="nc" id="L1221">        eventButton.setPreferredSize(new Dimension(180, 35));</span>
<span class="nc" id="L1222">        eventButton.setMinimumSize(new Dimension(150, 35));</span>

<span class="nc" id="L1224">        eventButton.setBackground(Color.WHITE);</span>
<span class="nc" id="L1225">        eventButton.setFocusPainted(false);</span>
<span class="nc" id="L1226">        eventButton.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L1227">            BorderFactory.createLineBorder(new Color(200, 200, 200), 1),</span>
<span class="nc" id="L1228">            BorderFactory.createEmptyBorder(5, 10, 5, 10)</span>
        ));

<span class="nc" id="L1231">        eventButton.addMouseListener(new java.awt.event.MouseAdapter() {</span>
          public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L1233">            eventButton.setBackground(new Color(245, 245, 245));</span>
<span class="nc" id="L1234">          }</span>

          public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L1237">            eventButton.setBackground(Color.WHITE);</span>
<span class="nc" id="L1238">          }</span>
        });

<span class="nc" id="L1241">        eventButton.addActionListener(e -&gt; {</span>
<span class="nc" id="L1242">          showEditEventDialogBox(event);</span>
<span class="nc" id="L1243">        });</span>

<span class="nc" id="L1245">        leftContentPanel.add(eventButton);</span>
<span class="nc" id="L1246">        leftContentPanel.add(Box.createRigidArea(new Dimension(0, 5)));</span>
<span class="nc" id="L1247">      }</span>
    }

<span class="nc" id="L1250">    leftContentPanel.add(Box.createVerticalGlue());</span>

<span class="nc" id="L1252">    JButton clearSearchBtn = new JButton(&quot;Clear Search&quot;);</span>
<span class="nc" id="L1253">    clearSearchBtn.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L1254">    clearSearchBtn.setMaximumSize(new Dimension(200, 35));</span>
<span class="nc" id="L1255">    clearSearchBtn.setPreferredSize(new Dimension(180, 35));</span>
<span class="nc" id="L1256">    clearSearchBtn.setBackground(new Color(100, 100, 100));</span>
<span class="nc" id="L1257">    clearSearchBtn.setForeground(Color.WHITE);</span>
<span class="nc" id="L1258">    clearSearchBtn.setFocusPainted(false);</span>
<span class="nc" id="L1259">    clearSearchBtn.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L1260">    clearSearchBtn.setBorder(BorderFactory.createEmptyBorder(5, 10, 5, 10));</span>

<span class="nc" id="L1262">    clearSearchBtn.addActionListener(e -&gt; {</span>
<span class="nc" id="L1263">      searchField.setText(&quot;&quot;);</span>

<span class="nc bnc" id="L1265" title="All 2 branches missed.">      if (guiControllerFeatures != null) {</span>
<span class="nc" id="L1266">        guiControllerFeatures.handleDateClicked();</span>
      }
<span class="nc" id="L1268">    });</span>

<span class="nc" id="L1270">    leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>
<span class="nc" id="L1271">    leftContentPanel.add(clearSearchBtn);</span>
<span class="nc" id="L1272">    leftContentPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>

<span class="nc" id="L1274">    leftContentPanel.revalidate();</span>
<span class="nc" id="L1275">    leftContentPanel.repaint();</span>
<span class="nc" id="L1276">  }</span>

  @Override
  public void showEditSeriesDialogBox(Event event) {

<span class="nc" id="L1281">    eventNameField = new JTextField(event.getSubject());</span>
<span class="nc" id="L1282">    statusField = new JTextField(event.getStatus());</span>
<span class="nc" id="L1283">    startDateTextField = new JTextField(event.getStartDate().toString());</span>
<span class="nc" id="L1284">    endDateField = new JTextField(event.getEndDate().toString());</span>
<span class="nc" id="L1285">    startTimeField = new JTextField(event.getStartTime().toString());</span>
<span class="nc" id="L1286">    endTimeField = new JTextField(event.getEndTime().toString());</span>
<span class="nc" id="L1287">    locationField = new JTextField(event.getLocation().toString());</span>
<span class="nc" id="L1288">    descriptionField = new JTextField(event.getDescription());</span>

<span class="nc" id="L1290">    editEventDialog = new JDialog(this, &quot;Edit Series&quot;, true);</span>
<span class="nc" id="L1291">    editEventDialog.setSize(500, 520);</span>
<span class="nc" id="L1292">    editEventDialog.setLocationRelativeTo(this);</span>
<span class="nc" id="L1293">    editEventDialog.setLayout(new BorderLayout());</span>

<span class="nc" id="L1295">    JPanel mainPanel = new JPanel();</span>
<span class="nc" id="L1296">    mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L1297">    mainPanel.setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));</span>


<span class="nc" id="L1300">    JLabel titleLabel = new JLabel(&quot;Current Event Details&quot;);</span>
<span class="nc" id="L1301">    titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));</span>
<span class="nc" id="L1302">    titleLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L1303">    mainPanel.add(titleLabel);</span>
<span class="nc" id="L1304">    mainPanel.add(Box.createRigidArea(new Dimension(0, 15)));</span>


<span class="nc" id="L1307">    JPanel currentValuesPanel = new JPanel(new GridLayout(8, 2, 10, 5));</span>
<span class="nc" id="L1308">    currentValuesPanel.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L1309">        BorderFactory.createLineBorder(Color.LIGHT_GRAY),</span>
<span class="nc" id="L1310">        BorderFactory.createEmptyBorder(10, 10, 10, 10)</span>
    ));

<span class="nc" id="L1313">    currentValuesPanel.add(new JLabel(&quot;Event Name:&quot;));</span>
<span class="nc" id="L1314">    JLabel nameValueLabel = new JLabel(eventNameField.getText());</span>
<span class="nc" id="L1315">    nameValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1316">    currentValuesPanel.add(nameValueLabel);</span>

<span class="nc" id="L1318">    currentValuesPanel.add(new JLabel(&quot;Status:&quot;));</span>
<span class="nc" id="L1319">    JLabel statusValueLabel = new JLabel(statusField.getText());</span>
<span class="nc" id="L1320">    statusValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1321">    currentValuesPanel.add(statusValueLabel);</span>

<span class="nc" id="L1323">    currentValuesPanel.add(new JLabel(&quot;Start Date:&quot;));</span>
<span class="nc" id="L1324">    JLabel startDateValueLabel = new JLabel(startDateTextField.getText());</span>
<span class="nc" id="L1325">    startDateValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1326">    currentValuesPanel.add(startDateValueLabel);</span>

<span class="nc" id="L1328">    currentValuesPanel.add(new JLabel(&quot;End Date:&quot;));</span>
<span class="nc" id="L1329">    JLabel endDateValueLabel = new JLabel(endDateField.getText());</span>
<span class="nc" id="L1330">    endDateValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1331">    currentValuesPanel.add(endDateValueLabel);</span>

<span class="nc" id="L1333">    currentValuesPanel.add(new JLabel(&quot;Start Time:&quot;));</span>
<span class="nc" id="L1334">    JLabel startTimeValueLabel = new JLabel(startTimeField.getText());</span>
<span class="nc" id="L1335">    startTimeValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1336">    currentValuesPanel.add(startTimeValueLabel);</span>

<span class="nc" id="L1338">    currentValuesPanel.add(new JLabel(&quot;End Time:&quot;));</span>
<span class="nc" id="L1339">    JLabel endTimeValueLabel = new JLabel(endTimeField.getText());</span>
<span class="nc" id="L1340">    endTimeValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1341">    currentValuesPanel.add(endTimeValueLabel);</span>

<span class="nc" id="L1343">    currentValuesPanel.add(new JLabel(&quot;Location:&quot;));</span>
<span class="nc" id="L1344">    JLabel locationValueLabel = new JLabel(locationField.getText());</span>
<span class="nc" id="L1345">    locationValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1346">    currentValuesPanel.add(locationValueLabel);</span>

<span class="nc" id="L1348">    currentValuesPanel.add(new JLabel(&quot;Description:&quot;));</span>
<span class="nc" id="L1349">    JLabel descriptionValueLabel = new JLabel(descriptionField.getText());</span>
<span class="nc" id="L1350">    descriptionValueLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1351">    currentValuesPanel.add(descriptionValueLabel);</span>

<span class="nc" id="L1353">    mainPanel.add(currentValuesPanel);</span>
<span class="nc" id="L1354">    mainPanel.add(Box.createRigidArea(new Dimension(0, 20)));</span>


<span class="nc" id="L1357">    JSeparator separator = new JSeparator();</span>
<span class="nc" id="L1358">    mainPanel.add(separator);</span>
<span class="nc" id="L1359">    mainPanel.add(Box.createRigidArea(new Dimension(0, 15)));</span>


<span class="nc" id="L1362">    JLabel editScopeLabel = new JLabel(&quot;Edit Scope:&quot;);</span>
<span class="nc" id="L1363">    editScopeLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L1364">    editScopeLabel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L1365">    mainPanel.add(editScopeLabel);</span>
<span class="nc" id="L1366">    mainPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>

<span class="nc" id="L1368">    JPanel radioPanel = new JPanel();</span>
<span class="nc" id="L1369">    radioPanel.setAlignmentX(Component.CENTER_ALIGNMENT);</span>
<span class="nc" id="L1370">    radioPanel.setLayout(new BoxLayout(radioPanel, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L1371">    radioPanel.setBorder(BorderFactory.createCompoundBorder(</span>
<span class="nc" id="L1372">        BorderFactory.createLineBorder(Color.LIGHT_GRAY),</span>
<span class="nc" id="L1373">        BorderFactory.createEmptyBorder(10, 10, 10, 10)</span>
    ));

<span class="nc" id="L1376">    JRadioButton thisAndFutureRadio = new JRadioButton(</span>
        &quot;Make changes to this event and all events after this in the series&quot;);
<span class="nc" id="L1378">    thisAndFutureRadio.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1379">    thisAndFutureRadio.setSelected(true);</span>

<span class="nc" id="L1381">    JRadioButton allEventsRadio = new JRadioButton(</span>
        &quot;Make changes to all events in the series&quot;);
<span class="nc" id="L1383">    allEventsRadio.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>

<span class="nc" id="L1385">    ButtonGroup editScopeGroup = new ButtonGroup();</span>
<span class="nc" id="L1386">    editScopeGroup.add(thisAndFutureRadio);</span>
<span class="nc" id="L1387">    editScopeGroup.add(allEventsRadio);</span>

<span class="nc" id="L1389">    radioPanel.add(thisAndFutureRadio);</span>
<span class="nc" id="L1390">    radioPanel.add(Box.createRigidArea(new Dimension(0, 8)));</span>
<span class="nc" id="L1391">    radioPanel.add(allEventsRadio);</span>

<span class="nc" id="L1393">    mainPanel.add(radioPanel);</span>
<span class="nc" id="L1394">    mainPanel.add(Box.createRigidArea(new Dimension(0, 15)));</span>


<span class="nc" id="L1397">    JLabel editLabel = new JLabel(&quot;Select Property to Edit:&quot;);</span>
<span class="nc" id="L1398">    editLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>
<span class="nc" id="L1399">    editLabel.setAlignmentX(Component.LEFT_ALIGNMENT);</span>
<span class="nc" id="L1400">    mainPanel.add(editLabel);</span>
<span class="nc" id="L1401">    mainPanel.add(Box.createRigidArea(new Dimension(0, 10)));</span>

<span class="nc" id="L1403">    JPanel editPanel = new JPanel(new GridLayout(2, 2, 10, 10));</span>

<span class="nc" id="L1405">    propertyLabel = new JLabel(&quot;Property:&quot;);</span>
<span class="nc" id="L1406">    editPanel.add(propertyLabel);</span>

<span class="nc" id="L1408">    String[] properties = {&quot;Event Name&quot;, &quot;Status&quot;, &quot;Start Date&quot;, &quot;End Date&quot;,</span>
        &quot;Start Time&quot;, &quot;End Time&quot;, &quot;Location&quot;, &quot;Description&quot;};
<span class="nc" id="L1410">    JComboBox&lt;String&gt; propertyComboBox = new JComboBox&lt;&gt;(properties);</span>
<span class="nc" id="L1411">    editPanel.add(propertyComboBox);</span>

<span class="nc" id="L1413">    JLabel newValueLabel = new JLabel(&quot;New Value:&quot;);</span>
<span class="nc" id="L1414">    editPanel.add(newValueLabel);</span>

<span class="nc" id="L1416">    JTextField newValueField = new JTextField();</span>
<span class="nc" id="L1417">    editPanel.add(newValueField);</span>

<span class="nc" id="L1419">    mainPanel.add(editPanel);</span>
<span class="nc" id="L1420">    mainPanel.add(Box.createRigidArea(new Dimension(0, 20)));</span>




<span class="nc" id="L1425">    editEventBtn = new JButton(&quot;Update&quot;);</span>
<span class="nc" id="L1426">    editEventBtn.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L1427">    editEventBtn.setBackground(new Color(70, 130, 180));</span>
<span class="nc" id="L1428">    editEventBtn.setForeground(Color.BLACK);</span>
<span class="nc" id="L1429">    editEventBtn.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 12));</span>


<span class="nc" id="L1432">    handleDialogBoxEditSeriesEvent(newValueField, propertyComboBox, thisAndFutureRadio,</span>
        allEventsRadio);

<span class="nc" id="L1435">    JButton cancelBtn = new JButton(&quot;Cancel&quot;);</span>
<span class="nc" id="L1436">    cancelBtn.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L1437">    cancelBtn.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 12));</span>
<span class="nc" id="L1438">    cancelBtn.addActionListener(evt -&gt; editEventDialog.dispose());</span>

<span class="nc" id="L1440">    JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));</span>
<span class="nc" id="L1441">    buttonPanel.add(editEventBtn);</span>
<span class="nc" id="L1442">    buttonPanel.add(cancelBtn);</span>


<span class="nc" id="L1445">    JScrollPane scrollPane = new JScrollPane(mainPanel);</span>
<span class="nc" id="L1446">    scrollPane.setBorder(null);</span>

<span class="nc" id="L1448">    editEventDialog.add(scrollPane, BorderLayout.CENTER);</span>
<span class="nc" id="L1449">    editEventDialog.add(buttonPanel, BorderLayout.SOUTH);</span>

<span class="nc" id="L1451">    editEventDialog.setVisible(true);</span>
<span class="nc" id="L1452">  }</span>

  private void handleDialogBoxEditSeriesEvent(JTextField newValueField,
                                              JComboBox&lt;String&gt; propertyComboBox,
                                              JRadioButton thisAndFutureRadio,
                                              JRadioButton allEventsRadio) {
<span class="nc" id="L1458">    editEventBtn.addActionListener(e -&gt; {</span>
<span class="nc" id="L1459">      String selectedProperty = (String) propertyComboBox.getSelectedItem();</span>
<span class="nc" id="L1460">      String newValue = newValueField.getText().trim();</span>

<span class="nc bnc" id="L1462" title="All 2 branches missed.">      if (newValue.isEmpty()) {</span>
<span class="nc" id="L1463">        JOptionPane.showMessageDialog(editEventDialog,</span>
            &quot;Please enter a new value&quot;,
            &quot;Invalid Input&quot;,
            JOptionPane.WARNING_MESSAGE);
<span class="nc" id="L1467">        return;</span>
      }


<span class="nc" id="L1471">      Map&lt;String, Object&gt; eventData = eventParameterConstructor(selectedProperty, newValue);</span>

<span class="nc" id="L1473">      eventData.put(&quot;editAllEvents&quot;, allEventsRadio.isSelected());</span>
<span class="nc" id="L1474">      eventData.put(&quot;editThisAndFuture&quot;, thisAndFutureRadio.isSelected());</span>

<span class="nc" id="L1476">      editEventDialog.dispose();</span>

<span class="nc bnc" id="L1478" title="All 2 branches missed.">      if (guiControllerFeatures != null) {</span>
<span class="nc" id="L1479">        guiControllerFeatures.handleEditEventClicked(eventData);</span>
      }
<span class="nc" id="L1481">    });</span>
<span class="nc" id="L1482">  }</span>

  @Override
  public void addHandlers(GuiControllerFeatures guiHandlers) {
<span class="nc" id="L1486">    this.guiControllerFeatures = guiHandlers;</span>

<span class="nc bnc" id="L1488" title="All 2 branches missed.">    for (int week = 0; week &lt; 6; week++) {</span>
<span class="nc bnc" id="L1489" title="All 2 branches missed.">      for (int day = 0; day &lt; 7; day++) {</span>

<span class="nc" id="L1491">        dayButtons[week][day].addActionListener(e -&gt; {</span>
<span class="nc" id="L1492">          JButton source = (JButton) e.getSource();</span>
<span class="nc" id="L1493">          String dayText = source.getText();</span>
<span class="nc bnc" id="L1494" title="All 2 branches missed.">          if (!dayText.isEmpty()) {</span>
<span class="nc bnc" id="L1495" title="All 4 branches missed.">            if (selectedDayButton != null &amp;&amp; selectedDayButton != source) {</span>
<span class="nc" id="L1496">              selectedDayButton.setBackground(Color.WHITE);</span>
<span class="nc" id="L1497">              selectedDayButton.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 14));</span>
            }

<span class="nc" id="L1500">            source.setBackground(new Color(200, 220, 255));</span>
<span class="nc" id="L1501">            source.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 14));</span>
<span class="nc" id="L1502">            selectedDayButton = source;</span>

<span class="nc" id="L1504">            int dayOfMonth = Integer.parseInt(dayText);</span>
<span class="nc" id="L1505">            this.currentDate = currentYearMonth.atDay(dayOfMonth);</span>
<span class="nc" id="L1506">            guiHandlers.handleDateClicked();</span>
          }
<span class="nc" id="L1508">        });</span>

      }

    }


<span class="nc" id="L1515">    navigateCalendarsButton.addActionListener(e -&gt; {</span>
<span class="nc" id="L1516">      guiHandlers.handleNavigateCalendarClicked();</span>
<span class="nc" id="L1517">    });</span>

<span class="nc" id="L1519">    createCalendarBtn.addActionListener(e -&gt; {</span>
<span class="nc" id="L1520">      guiHandlers.handleCreateCalendarClicked();</span>
<span class="nc" id="L1521">    });</span>

<span class="nc" id="L1523">    createCalendarDialogBoxBtn.addActionListener(evt -&gt; {</span>
<span class="nc" id="L1524">      String calendarName = calendarNameField.getText().trim();</span>
<span class="nc" id="L1525">      String timeZoneInput = timeZoneField.getText().trim();</span>

<span class="nc bnc" id="L1527" title="All 2 branches missed.">      if (calendarName.isEmpty()) {</span>
<span class="nc" id="L1528">        JOptionPane.showMessageDialog(dialog,</span>
            &quot;Please enter a calendar name&quot;,
            &quot;Invalid Input&quot;,
            JOptionPane.WARNING_MESSAGE);
<span class="nc" id="L1532">        return;</span>
      }

      try {
<span class="nc" id="L1536">        ZoneId.of(timeZoneInput);</span>
<span class="nc" id="L1537">        dialog.dispose();</span>

<span class="nc bnc" id="L1539" title="All 2 branches missed.">        if (guiHandlers != null) {</span>
<span class="nc" id="L1540">          guiHandlers.handleCreateCalendarDialogBoxClicked(calendarName, timeZoneInput);</span>
        }
<span class="nc" id="L1542">      } catch (Exception ex) {</span>
<span class="nc" id="L1543">        JOptionPane.showMessageDialog(dialog,</span>
            &quot;Invalid timezone format. Please use format like 'America/New_York' or 'UTC'.\n&quot;
                +
<span class="nc" id="L1546">                &quot;Error: &quot; + ex.getMessage(),</span>
            &quot;Invalid Timezone&quot;,
            JOptionPane.ERROR_MESSAGE);
<span class="nc" id="L1549">      }</span>
<span class="nc" id="L1550">    });</span>

<span class="nc" id="L1552">    searchField.addActionListener(e -&gt; {</span>
<span class="nc" id="L1553">      String searchTerm = searchField.getText().trim();</span>
<span class="nc bnc" id="L1554" title="All 2 branches missed.">      if (!searchTerm.isEmpty()) {</span>
<span class="nc" id="L1555">        guiHandlers.handleSearchEvents(searchTerm);</span>
      }
<span class="nc" id="L1557">    });</span>

<span class="nc" id="L1559">    String currentCalendar = guiHandlers.getCurrentCalendarName();</span>
<span class="nc" id="L1560">    String currentTimezone = guiHandlers.getCurrentCalendarTimezone();</span>
<span class="nc" id="L1561">    updateCurrentCalendarLabel(currentCalendar, currentTimezone);</span>
<span class="nc" id="L1562">  }</span>

  private Map&lt;String, Object&gt; eventParameterConstructor(String selectedProperty, String newValue) {
<span class="nc bnc" id="L1565" title="All 9 branches missed.">    switch (selectedProperty) {</span>
      case &quot;Event Name&quot;:
<span class="nc" id="L1567">        eventNameField.setText(newValue);</span>
<span class="nc" id="L1568">        break;</span>
      case &quot;Status&quot;:
<span class="nc bnc" id="L1570" title="All 2 branches missed.">        if (newValue.equalsIgnoreCase(Status.Private.name())</span>
            ||
<span class="nc bnc" id="L1572" title="All 2 branches missed.">            newValue.equalsIgnoreCase(Status.Public.name())) {</span>
<span class="nc" id="L1573">          statusField.setText(newValue);</span>
        } else {
<span class="nc" id="L1575">          JOptionPane.showMessageDialog(editEventDialog,</span>
              &quot;Either 'Private' or 'Public' is allowed&quot;,
              &quot;Invalid Input&quot;,
              JOptionPane.WARNING_MESSAGE);
        }
<span class="nc" id="L1580">        break;</span>
      case &quot;Start Date&quot;:
<span class="nc" id="L1582">        startDateField.setText(newValue);</span>
<span class="nc" id="L1583">        break;</span>
      case &quot;End Date&quot;:
<span class="nc" id="L1585">        endDateField.setText(newValue);</span>
<span class="nc" id="L1586">        break;</span>
      case &quot;Start Time&quot;:
<span class="nc" id="L1588">        startTimeField.setText(newValue);</span>
<span class="nc" id="L1589">        break;</span>
      case &quot;End Time&quot;:
<span class="nc" id="L1591">        endTimeField.setText(newValue);</span>
<span class="nc" id="L1592">        break;</span>
      case &quot;Location&quot;:
<span class="nc bnc" id="L1594" title="All 2 branches missed.">        if (newValue.equalsIgnoreCase(Location.Online.name())</span>
            ||
<span class="nc bnc" id="L1596" title="All 2 branches missed.">            newValue.equalsIgnoreCase(Location.Physical.name())) {</span>
<span class="nc" id="L1597">          locationField.setText(newValue);</span>
        } else {
<span class="nc" id="L1599">          JOptionPane.showMessageDialog(editEventDialog,</span>
              &quot;Either 'Physical' or 'Online' is allowed&quot;,
              &quot;Invalid Input&quot;,
              JOptionPane.WARNING_MESSAGE);
        }
<span class="nc" id="L1604">        break;</span>
      case &quot;Description&quot;:
<span class="nc" id="L1606">        descriptionField.setText(newValue);</span>
<span class="nc" id="L1607">        break;</span>
      default:
<span class="nc" id="L1609">        System.out.println(&quot;&quot;);</span>
    }


<span class="nc" id="L1613">    Map&lt;String, Object&gt; eventData = new HashMap&lt;&gt;();</span>
<span class="nc" id="L1614">    eventData.put(&quot;name&quot;, eventNameField.getText().trim());</span>
<span class="nc" id="L1615">    eventData.put(&quot;startDate&quot;, startDateField.getText());</span>
<span class="nc" id="L1616">    eventData.put(&quot;endDate&quot;, endDateField.getText().trim());</span>
<span class="nc" id="L1617">    eventData.put(&quot;startTime&quot;, startTimeField.getText().trim());</span>
<span class="nc" id="L1618">    eventData.put(&quot;endTime&quot;, endTimeField.getText().trim());</span>
<span class="nc" id="L1619">    eventData.put(&quot;location&quot;, locationField.getText().trim());</span>
<span class="nc" id="L1620">    eventData.put(&quot;description&quot;, descriptionField.getText().trim());</span>
<span class="nc" id="L1621">    eventData.put(&quot;status&quot;, statusField.getText().trim());</span>

<span class="nc" id="L1623">    return eventData;</span>
  }
}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>