<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EventImpl.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">calendar</a> &gt; <a href="index.source.html" class="el_package">calendar.model.modelimplementations</a> &gt; <span class="el_source">EventImpl.java</span></div><h1>EventImpl.java</h1><pre class="source lang-java linenums">package calendar.model.modelimplementations;


import calendar.model.modelinterfaces.Event;
import calendar.model.modelutility.Location;
import calendar.model.modelutility.Status;
import java.time.LocalDate;
import java.time.LocalTime;
import java.time.format.DateTimeFormatter;
import java.util.Objects;

/**
 * This class represents an event in a calendar.
 * It is an implementation of the Event interface
 * It can be either part of a series or not.
 *
 */

public class EventImpl implements Event {

  protected String subject;
  protected LocalDate startDate;
  protected LocalDate endDate;
  protected LocalTime startTime;
  protected LocalTime endTime;
  protected String description;
  protected Location location;
  protected Status status;
  String eventSeriesId;


  /**
   * Constructs the event object.
   *
   */

  EventImpl(String subject, LocalDate startDate, LocalDate endDate,
            LocalTime startTime, LocalTime endTime, String eventSeriesId, Status status,
<span class="fc" id="L39">            String description, Location location) {</span>

<span class="fc" id="L41">    this.subject = subject;</span>
<span class="fc" id="L42">    this.startDate = startDate;</span>
<span class="fc" id="L43">    this.endDate = endDate;</span>
<span class="fc" id="L44">    this.startTime = startTime;</span>
<span class="fc" id="L45">    this.endTime = endTime;</span>
<span class="fc" id="L46">    this.eventSeriesId = eventSeriesId;</span>
<span class="fc" id="L47">    this.status = status;</span>
<span class="fc" id="L48">    this.description = description;</span>
<span class="fc" id="L49">    this.location = location;</span>

<span class="fc" id="L51">  }</span>

  /**
   * Constructs to create a copy of the event.
   *
   * @param other the event of which we need to make a copy of
   */

<span class="nc" id="L59">  public EventImpl(Event other) {</span>
<span class="nc" id="L60">    this.subject = other.getSubject();</span>
<span class="nc" id="L61">    this.startDate = other.getStartDate();</span>
<span class="nc" id="L62">    this.endDate = other.getEndDate();</span>
<span class="nc" id="L63">    this.startTime = other.getStartTime();</span>
<span class="nc" id="L64">    this.endTime = other.getEndTime();</span>
<span class="nc" id="L65">    this.eventSeriesId = other.getEventSeriesId();</span>
<span class="nc" id="L66">    this.status = Status.valueOf(other.getStatus());</span>
<span class="nc" id="L67">    this.description = other.getDescription();</span>
<span class="nc" id="L68">    this.location = Location.valueOf(other.getLocation());</span>
<span class="nc" id="L69">  }</span>

  /**
   * Method to return the builder event builder object which will be used to create an event.
   *
   * @return a new event builder object
   */

  public static EventBuilder getEventBuilder() {
<span class="fc" id="L78">    return new EventBuilder();</span>
  }

  private static Location validateLocation(String input) {

<span class="pc bpc" id="L83" title="1 of 2 branches missed.">    if (input.equalsIgnoreCase(Location.Online.name())) {</span>
<span class="nc" id="L84">      return Location.Online;</span>
<span class="pc bpc" id="L85" title="1 of 2 branches missed.">    } else if (input.equalsIgnoreCase(Location.Physical.name())) {</span>
<span class="fc" id="L86">      return Location.Physical;</span>
    }
<span class="nc" id="L88">    System.out.println(&quot;Invalid Location&quot;);</span>
<span class="nc" id="L89">    return null;</span>
  }

  private static Status validateStatus(String input) {

<span class="pc bpc" id="L94" title="1 of 2 branches missed.">    if (input.equalsIgnoreCase((Status.Private.name()))) {</span>
<span class="nc" id="L95">      return Status.Private;</span>
<span class="pc bpc" id="L96" title="1 of 2 branches missed.">    } else if (input.equalsIgnoreCase(Status.Public.name())) {</span>
<span class="fc" id="L97">      return Status.Public;</span>
    }
<span class="nc" id="L99">    System.out.println(&quot;Invalid Status&quot;);</span>
<span class="nc" id="L100">    return null;</span>
  }


  @Override
  public String getSubject() {
<span class="fc" id="L106">    return this.subject;</span>
  }

  @Override
  public LocalTime getStartTime() {
<span class="fc" id="L111">    return this.startTime;</span>
  }

  @Override
  public LocalTime getEndTime() {
<span class="fc" id="L116">    return this.endTime;</span>
  }

  @Override
  public LocalDate getStartDate() {
<span class="fc" id="L121">    return this.startDate;</span>
  }

  @Override
  public LocalDate getEndDate() {
<span class="fc" id="L126">    return this.endDate;</span>
  }

  @Override
  public String getDescription() {
<span class="fc" id="L131">    return this.description;</span>
  }

  @Override
  public String getStatus() {
<span class="fc" id="L136">    return this.status.name();</span>
  }

  @Override
  public String getLocation() {
<span class="fc" id="L141">    return this.location.name();</span>
  }

  @Override
  public String getEventSeriesId() {
<span class="fc" id="L146">    return this.eventSeriesId;</span>
  }

  @Override
  public Event modifySubject(String subject) {
<span class="fc bfc" id="L151" title="All 2 branches covered.">    if (subject.equals(this.subject)) {</span>
<span class="fc" id="L152">      return null;</span>
    }

<span class="fc" id="L155">    this.subject = subject;</span>
<span class="fc" id="L156">    return this;</span>
  }

  @Override
  public Event modifySeriesId(String eventSeriesId) {

<span class="fc" id="L162">    this.eventSeriesId = eventSeriesId;</span>
<span class="fc" id="L163">    return this;</span>
  }

  @Override
  public Event modifyStartDate(LocalDate startDate) {
<span class="fc bfc" id="L168" title="All 2 branches covered.">    if (startDate.equals(this.startDate)) {</span>
<span class="fc" id="L169">      return null;</span>
    }

<span class="fc" id="L172">    this.startDate = startDate;</span>
<span class="fc" id="L173">    return this;</span>
  }

  @Override
  public Event modifyEndDate(LocalDate endDate) {
<span class="fc bfc" id="L178" title="All 2 branches covered.">    if (endDate.equals(this.endDate)) {</span>
<span class="fc" id="L179">      return null;</span>
    }

<span class="fc" id="L182">    this.endDate = endDate;</span>
<span class="fc" id="L183">    return this;</span>
  }

  @Override
  public Event modifyStartTime(LocalTime startTime) {
<span class="fc bfc" id="L188" title="All 2 branches covered.">    if (startTime.equals(this.startTime)) {</span>
<span class="fc" id="L189">      return null;</span>
    }

<span class="fc" id="L192">    this.startTime = startTime;</span>
<span class="fc" id="L193">    return this;</span>
  }

  @Override
  public Event modifyEndTime(LocalTime endTime) {
<span class="fc bfc" id="L198" title="All 2 branches covered.">    if (endTime.equals(this.endTime)) {</span>
<span class="fc" id="L199">      return null;</span>
    }
<span class="fc" id="L201">    this.endTime = endTime;</span>
<span class="fc" id="L202">    return this;</span>
  }

  @Override
  public Event modifyDescription(String description) {
<span class="pc bpc" id="L207" title="1 of 2 branches missed.">    if (description.equals(this.description)) {</span>
<span class="nc" id="L208">      return null;</span>
    }
<span class="fc" id="L210">    this.description = description;</span>
<span class="fc" id="L211">    return this;</span>
  }

  @Override
  public Event modifyStatus(String status) {
<span class="fc bfc" id="L216" title="All 2 branches covered.">    if (status.equals(this.status.name())) {</span>
<span class="fc" id="L217">      return null;</span>
    }
<span class="fc" id="L219">    this.status = validateStatus(status);</span>
<span class="fc" id="L220">    return this;</span>
  }

  @Override
  public Event modifyLocation(String location) {
<span class="fc bfc" id="L225" title="All 2 branches covered.">    if (location.equals(this.location.name())) {</span>
<span class="fc" id="L226">      return null;</span>
    }
<span class="fc" id="L228">    this.location = validateLocation(location);</span>
<span class="fc" id="L229">    return this;</span>
  }

  @Override
  public String toString() {
<span class="fc" id="L234">    DateTimeFormatter formatter12 = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);</span>

<span class="fc" id="L236">    LocalTime startTime = getStartTime();</span>
<span class="fc" id="L237">    startTime.format(formatter12);</span>

<span class="fc" id="L239">    LocalTime endTime = getEndTime();</span>
<span class="fc" id="L240">    endTime.format(formatter12);</span>

<span class="fc" id="L242">    return getSubject()</span>
        +
<span class="fc" id="L244">        &quot; starting on &quot; + getStartDate()</span>
        +
        &quot; at &quot;
        +
<span class="fc" id="L248">        getStartTime()</span>
        +
<span class="fc" id="L250">        &quot;, ending on &quot; + getEndDate() + &quot; at &quot; + getEndTime()</span>
        +
<span class="fc" id="L252">        &quot;, description: &quot; + getDescription() + &quot;, status &quot;</span>
        +
<span class="fc" id="L254">        getStatus()</span>
        +
<span class="fc" id="L256">        &quot;, location &quot; + getLocation();</span>

  }

  @Override
  public boolean equals(Object o) {
<span class="fc bfc" id="L262" title="All 2 branches covered.">    if (this == o) {</span>
<span class="fc" id="L263">      return true;</span>
    }

<span class="fc bfc" id="L266" title="All 2 branches covered.">    if (!(o instanceof EventImpl)) {</span>
<span class="fc" id="L267">      return false;</span>
    }

<span class="fc" id="L270">    EventImpl otherEvent = (EventImpl) o;</span>

<span class="fc bfc" id="L272" title="All 2 branches covered.">    return this.getSubject().equals(otherEvent.getSubject())</span>
<span class="fc bfc" id="L273" title="All 2 branches covered.">        &amp;&amp; this.getStartTime().equals(otherEvent.getStartTime())</span>
<span class="pc bpc" id="L274" title="1 of 2 branches missed.">        &amp;&amp; this.getEndTime().equals(otherEvent.getEndTime())</span>
<span class="pc bpc" id="L275" title="1 of 2 branches missed.">        &amp;&amp; this.getStartDate().equals(otherEvent.getStartDate())</span>
<span class="pc bpc" id="L276" title="1 of 2 branches missed.">        &amp;&amp; this.getEndDate().equals(otherEvent.getEndDate());</span>
  }

  @Override
  public int compareTo(Event o) {

<span class="fc" id="L282">    int compareStartDate = this.getStartDate().compareTo(o.getStartDate());</span>
<span class="fc bfc" id="L283" title="All 2 branches covered.">    if (compareStartDate != 0) {</span>
<span class="fc" id="L284">      return compareStartDate;</span>
    }

<span class="fc" id="L287">    int compareEndDate = this.getEndDate().compareTo(o.getEndDate());</span>
<span class="pc bpc" id="L288" title="1 of 2 branches missed.">    if (compareEndDate != 0) {</span>
<span class="nc" id="L289">      return compareEndDate;</span>
    }

<span class="fc" id="L292">    int compareStartTime = this.getStartTime().compareTo(o.getStartTime());</span>
<span class="fc bfc" id="L293" title="All 2 branches covered.">    if (compareStartTime != 0) {</span>
<span class="fc" id="L294">      return compareStartTime;</span>
    }

<span class="fc" id="L297">    return this.getEndTime().compareTo(o.getEndTime());</span>
  }

  @Override
  public int hashCode() {
<span class="fc" id="L302">    return Objects.hash(getSubject(), getStartDate(), getEndDate(), getStartTime(), getEndTime());</span>
  }

  /**
   * A builder class to build event.
   *
   */

  public static class EventBuilder {

    protected String subject;
    protected LocalDate startDate;
    protected LocalDate endDate;
    protected LocalTime startTime;
    protected LocalTime endTime;
    String eventSeriesId;
    protected String description;
    protected Location location;
    protected Status status;

    /**
     * Constructs event builder object.
     *
     */
<span class="fc" id="L326">    public EventBuilder() {</span>

<span class="fc" id="L328">      LocalTime startTime = LocalTime.of(8, 0);</span>
<span class="fc" id="L329">      LocalTime endTime = LocalTime.of(17, 0);</span>
<span class="fc" id="L330">      LocalDate currentDate = LocalDate.now();</span>
<span class="fc" id="L331">      this.startTime = startTime;</span>
<span class="fc" id="L332">      this.endTime = endTime;</span>
<span class="fc" id="L333">      this.startDate = currentDate;</span>
<span class="fc" id="L334">      this.endDate = currentDate;</span>
<span class="fc" id="L335">      this.eventSeriesId = null;</span>
<span class="fc" id="L336">      this.description = &quot; &quot;;</span>
<span class="fc" id="L337">      this.status = Status.Private;</span>
<span class="fc" id="L338">      this.location = Location.Online;</span>

<span class="fc" id="L340">    }</span>

    /**
     * Sets the start date.
     *
     */

    public EventBuilder setStartDate(LocalDate startDate) throws IllegalArgumentException {
<span class="fc bfc" id="L348" title="All 2 branches covered.">      if (startDate == null) {</span>
<span class="fc" id="L349">        throw new IllegalArgumentException(&quot;startDate cannot be null&quot;);</span>
      }

<span class="fc" id="L352">      this.startDate = startDate;</span>
<span class="fc" id="L353">      return this;</span>
    }

    /**
     * Sets end date.
     *
     */

    public EventBuilder setEndDate(LocalDate endDate) {
<span class="fc" id="L362">      this.endDate = endDate;</span>
<span class="fc" id="L363">      return this;</span>
    }

    /**
     * Sets start time.
     *
     */

    public EventBuilder setStartTime(LocalTime startTime) throws IllegalArgumentException {
<span class="fc bfc" id="L372" title="All 2 branches covered.">      if (startTime == null) {</span>
<span class="fc" id="L373">        throw new IllegalArgumentException(&quot;startTime cannot be null&quot;);</span>
      }

<span class="fc" id="L376">      this.startTime = startTime;</span>
<span class="fc" id="L377">      return this;</span>
    }

    /**
     * Sets end time.
     *
     */

    public EventBuilder setEndTime(LocalTime endTime) {
<span class="fc" id="L386">      this.endTime = endTime;</span>
<span class="fc" id="L387">      return this;</span>
    }

    /**
     * Sets the subject.
     *
     */

    public EventBuilder setSubject(String subject) throws IllegalArgumentException {
<span class="fc bfc" id="L396" title="All 2 branches covered.">      if (subject == null) {</span>
<span class="fc" id="L397">        throw new IllegalArgumentException(&quot;subject cannot be null&quot;);</span>
      }

<span class="fc" id="L400">      this.subject = subject;</span>
<span class="fc" id="L401">      return this;</span>
    }

    /**
     * Sets event series ID.
     *
     */

    public EventBuilder setEventSeriesId(String eventSeriesId) {
<span class="fc" id="L410">      this.eventSeriesId = eventSeriesId;</span>
<span class="fc" id="L411">      return this;</span>
    }



    /**
     * builder build method which calls the main object constructor.
     *
     */

    public Event build() {
<span class="fc" id="L422">      return new EventImpl(this.subject, this.startDate, this.endDate,</span>
          this.startTime, this.endTime, this.eventSeriesId, this.status, this.description,
          this.location);
    }

  }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>